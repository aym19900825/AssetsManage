webpackJsonp([10],{"5ua5":function(e,t,s){"use strict";(function(e){var a=s("QmSG"),i=s("GkRW"),r=s("hbvp"),l=s("h7vj"),n=s("vmPx");t.a={name:"user_management",components:{vheader:i.a,navs_header:l.a,navs_left:r.a,usermask:n.a},data:function(){return{loading:!1,basic_url:a.a.dev_url,isShow:!1,ismin:!0,fullHeight:document.documentElement.clientHeight-210+"px",loadSign:!0,commentArr:{},checkedName:["用户名","姓名","性别","机构","手机号","员工号","用户有效期"],buttons:[],tableHeader:[{label:"用户名",prop:"username"},{label:"姓名",prop:"nickname"},{label:"性别",prop:"GENDER"},{label:"机构",prop:"deptName"},{label:"手机号",prop:"phone"},{label:"员工号",prop:"worknumber"},{label:"用户有效期",prop:"user_active_date"}],leftitem:"",companyId:"",deptId:"",selUser:[],"启用":!0,"冻结":!1,"男":!0,"女":!1,userList:[],search:!1,show:!1,down:!0,up:!1,searchList:{nickname:"",username:"",deptId:""},resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"fullname"},treeData:[],userData:[],page:{currentPage:1,pageSize:20,totalCount:0},user:{},selectData:[]}},methods:{rowClass:function(e){e.row,e.rowIndex;return"text-align:center"},getCompany:function(){var e=this,t=this.basic_url+"/api-user/depts/treeByType";this.$axios.get(t,{params:{type:"2"}}).then(function(t){e.selectData=t.data})},renderContent:function(e,t){var s=t.node,a=t.data;t.store;return e("span",[e("i",{class:a.iconClass}),e("span",[s.label])])},nodeClick:function(e){"icon-file-text"!=e.iconClass&&("icon-file-normal"==e.iconClass?e.iconClass="icon-file-open":e.iconClass="icon-file-normal"),this.handleNodeClick()},expandClick:function(e){"icon-file-text"!=e.iconClass&&("icon-file-normal"==e.iconClass?e.iconClass="icon-file-open":e.iconClass="icon-file-normal"),e.isFolder=!e.isFolder},filterHandler:function(e,t,s){return t[s.property]===e},loadMore:function(){var e=this,t=sessionStorage.getItem("up2down");if(this.loadSign){if("down"==t){if(this.page.currentPage++,this.page.currentPage>Math.ceil(this.page.totalCount/this.page.pageSize))return this.page.currentPage=Math.ceil(this.page.totalCount/this.page.pageSize),!1}else if(this.page.currentPage--,this.page.currentPage<1)return this.page.currentPage=1,!1;this.loadSign=!1,setTimeout(function(){e.loadSign=!0},1e3),this.requestData()}},sizeChange:function(e){this.page.pageSize=e,this.requestData()},currentChange:function(e){this.page.currentPage=e,this.requestData()},searchinfo:function(e){this.page.currentPage=1,this.page.pageSize=20,this.requestData()},resetbtn:function(){this.searchList={nickname:"",username:"",deptId:""},this.requestData()},getbutton:function(e){var t=this;console.log(e);var s={menuId:e.id,roleId:this.$store.state.roleid},a=this.basic_url+"/api-user/permissions/getPermissionByRoleIdAndSecondMenu";this.$axios.get(a,{params:s}).then(function(e){t.buttons=e.data}).catch(function(e){})},getbtn:function(e){"添加"==e.name?this.openAddMgr():"修改"==e.name?this.modify():"高级查询"==e.name?this.modestsearch():"活动"==e.name?this.unfreeze():"不活动"==e.name?this.freezeAccount():"删除"==e.name?this.deluserinfo():"重置密码"==e.name&&this.resetPwd()},openAddMgr:function(){this.$refs.child.visible(),this.$refs.child.open()},modify:function(){0!=this.selUser.length?this.selUser.length>1?this.$message({message:"不可同时修改多个数据",type:"warning"}):(this.user=this.selUser[0],this.$refs.child.detail(this.selUser[0].id)):this.$message({message:"请您选择要修改的数据",type:"warning"})},view:function(e){this.$refs.child.view(e)},modestsearch:function(){this.search=!this.search,this.down=!this.down,this.up=!this.up},deluserinfo:function(){var e=this,t=this.selUser;if(0!=t.length)if(t.length>1)this.$message({message:"不可同时删除多个数据",type:"warning"});else{var s=t[0].id,a=this.basic_url+"/api-user/users/"+s;this.$axios.delete(a,{}).then(function(t){0==t.data.resp_code&&(e.$message({message:"删除成功",type:"success"}),e.requestData())}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}else this.$message({message:"请您选择要删除的数据",type:"warning"})},resetPwd:function(){var e=this,t=this.selUser;if(0!=t.length)if(t.length>1)this.$message({message:"不可同时多个用户进行重置",type:"warning"});else{var s=t[0].id,a=this.basic_url+"/api-user/users/"+s+"/resetPassword";this.$axios.post(a,{}).then(function(t){0==t.data.resp_code&&(e.$message({message:"重置成功",type:"success"}),e.requestData())}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}else this.$message({message:"请您选择要重置密码的用户",type:"warning"})},unfreeze:function(){var e=this,t=this.selUser;if(0!=t.length)if(t.length>1)this.$message({message:"不可同时启动多个用户",type:"warning"});else{var s=t[0],a=this.basic_url+"/api-user/users/updateEnabled?id="+s.id+"&enabled=true";this.$axios.get(a,{}).then(function(t){0==t.data.resp_code&&(e.$message({message:"启动成功",type:"success"}),e.requestData())}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}else this.$message({message:"请您选择您要启动的用户",type:"warning"})},freezeAccount:function(){var e=this,t=this.selUser;if(0!=t.length)if(t.length>1)this.$message({message:"不可同时冻结多个用户",type:"warning"});else{var s=t[0],a=this.basic_url+"/api-user/users/updateEnabled?id="+s.id+"&enabled=false";this.$axios.get(a,{}).then(function(t){0==t.data.resp_code&&(e.$message({message:"冻结成功",type:"success"}),e.requestData())}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}else this.$message({message:"请您选择您要冻结的用户",type:"warning"})},judge:function(e){return e.enabled?"活动":"不活动"},dateFormat:function(e,t){var s=e[t.property];return void 0==s?"":this.$moment(s).format("YYYY-MM-DD")},SelChange:function(e){this.selUser=e},requestData:function(e){var t=this;this.loading=!0;var s={page:this.page.currentPage,limit:this.page.pageSize,deptId:this.searchList.deptId,nickname:this.searchList.nickname,username:this.searchList.username,companyId:this.companyId},a=this.basic_url+"/api-user/users";this.$axios.get(a,{params:s}).then(function(e){console.log(e.data),t.page.totalCount=e.data.count;var s=Math.ceil(t.page.totalCount/t.page.pageSize);t.page.currentPage>=s?t.loadSign=!1:t.loadSign=!0,t.commentArr[t.page.currentPage]=e.data.data;for(var a=[],i=1;i<=s;i++)if(void 0!==t.commentArr[i]&&t.commentArr[i].length>0)for(var r=0;r<t.commentArr[i].length;r++)a.push(t.commentArr[i][r]);t.userList=a,t.loading=!1}).catch(function(e){})},getKey:function(){var e=this,t=this.basic_url+"/api-user/depts/tree";this.$axios.get(t,{}).then(function(t){console.log(2333),console.log(t.data),e.resourceData=t.data,e.treeData=e.transformTree(e.resourceData)})},transformTree:function(t){for(var s=0;s<t.length;s++)t[s].name=t[s].fullname,!t[s].pid||e.isArray(t[s].subDepts)?t[s].iconClass="icon-file-normal":t[s].iconClass="icon-file-text",e.isArray(t[s].subDepts)&&(t[s].children=this.transformTree(t[s].subDepts));return t},handleNodeClick:function(e){"1"==e.type?(this.companyId=e.id,this.deptId=""):(this.searchList.deptId=e.id,this.companyId=""),this.requestData()},min3max:function(){e(".lefttree").hasClass("el-col-5")?(e(".lefttree").removeClass("el-col-5"),e(".lefttree").addClass("el-col-1"),e(".leftcont").removeClass("el-col-19"),e(".leftcont").addClass("el-col-23"),e(".icon-doubleok").removeClass("icon-double-angle-left"),e(".icon-doubleok").addClass("icon-double-angle-right")):(e(".lefttree").removeClass("el-col-1"),e(".lefttree").addClass("el-col-5"),e(".leftcont").removeClass("el-col-23"),e(".leftcont").addClass("el-col-19"),e(".icon-doubleok").removeClass("icon-double-angle-right"),e(".icon-doubleok").addClass("icon-double-angle-left")),this.ismin=!this.ismin},childByValue:function(e){console.log(e),this.$refs.navsheader.showClick(e),this.getbutton(e)}},beforeMount:function(){},mounted:function(){this.requestData(),this.getKey(),this.getCompany()}}}).call(t,s("7t+N"))},"7/ni":function(e,t){},"8ncs":function(e,t){},NJ3C:function(e,t,s){"use strict";(function(e){var a,i=s("bOdI"),r=s.n(i),l=s("QmSG");t.a={name:"masks",props:{page:Object},data:function(){var e,t,s=this;return t={basic_url:l.a.dev_url,user:{status:"1",roleId:[],roles:[],traings:[],qualifications:[],ips:[]},options:[{value:"高中",label:"高中"},{value:"高中以下",label:"高中以下"},{value:"中专/技校",label:"中专/技校"},{value:"大专",label:"大专"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"},{value:"MBA/EMBA",label:"MBA/EMBA"}],value:"",editSearch:"",edit:!0,show:!1,isok1:!0,isok2:!1,down:!0,up:!1,activeName:"first",activeNames:["1","2","3","4"],labelPosition:"top",labelPositions:"right",dialogVisible:!1,addtitle:!0,modifytitle:!1,modify:!1,i:0,rules:(e={deptName:[{required:!0,validator:function(e,t,a){void 0===s.user.deptName||""===s.user.deptName||null===s.user.deptName?a(new Error("请选择所属机构")):a()}}],education:[{required:!0,message:"必填",trigger:"blur"}],roleId:[{required:!0,trigger:"blur",message:"必填"}],username:[{required:!0,message:"必填",trigger:"blur"},{validator:this.Validators.isUserName,trigger:"blur"},{type:"string",min:4,max:20,message:"用户名不小于4位，不大于20位",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"必填"}],sex:[{required:!0,trigger:"blur",message:"必填"}],ispermit_authorization:[{required:!0,trigger:"change",message:"必填"}],islogin:[{required:!0,trigger:"change",message:"必填"}],mac_address:[{required:!0,trigger:"blur",message:"必填"}],ip_address:[{required:!0,trigger:"blur",message:"必填"}],nickname:[{required:!0,trigger:"blur",validator:this.Validators.isNickname}],worknumber:[{required:!0,trigger:"blur",message:"必填"},{validator:this.Validators.isWorknumber,trigger:"blur"}],idnumber:[{required:!0,trigger:"blur",validator:this.Validators.isIdnumber}],phone:[{required:!0,trigger:"blur",message:"必填"},{validator:this.Validators.isPhone,trigger:"blur"}],email:[{required:!0,trigger:"blur",message:"必填"},{validator:this.Validators.isEmail,trigger:"blur"}],step:[{required:!0,trigger:"blur",message:"必填"}],t_date:[{required:!0,trigger:"blur",message:"必填"}],t_description:[{required:!0,trigger:"blur",message:"必填"}],status:[{required:!0,trigger:"blur",message:"必填"}]},r()(e,"step",[{required:!0,trigger:"blur",message:"必填"}]),r()(e,"c_date",[{required:!0,trigger:"blur",message:"必填"}]),r()(e,"c_num",[{required:!0,trigger:"blur",message:"必填"}]),r()(e,"c_name",[{required:!0,trigger:"blur",message:"必填"}]),r()(e,"ipaddress",[{required:!1,trigger:"blur",validator:this.Validators.isIpaddress}]),r()(e,"macaddress",[{required:!1,trigger:"blur",validator:this.Validators.isMacaddress}]),r()(e,"post",[{required:!1,trigger:"blur",validator:this.Validators.isSpecificKey}]),r()(e,"tips",[{required:!1,trigger:"blur",validator:this.Validators.isSpecificKey}]),e),resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"children",label:"fullname"},selectData:[],getCheckboxData:{}},r()(t,"addtitle",!0),r()(t,"modifytitle",!1),r()(t,"viewtitle",!1),r()(t,"dept",!1),r()(t,"noedit",!1),r()(t,"views",!1),r()(t,"noviews",!0),r()(t,"modify",!1),r()(t,"hintshow",!1),r()(t,"statusshow1",!0),r()(t,"statusshow2",!1),r()(t,"falg",!0),r()(t,"index",0),t},methods:(a={change:function(){this.user.roleId=this.user.roleId.slice(0)},editpassword:function(){this.$router.push({path:"/passwordedit"})},currentSel:function(e){this.selVal=e},rowClass:function(e){e.row,e.rowIndex;return"text-align:center"},handleClick:function(e,t){console.log(e,t)},iconOperation:function(e,t,s,a){"iconOperation"===t.property&&(e.isEditing=!e.isEditing)},reset:function(){this.user={companyName:"",deptName:"",username:"",password:"",nickname:"",birthday:"",sexName:"",idnumber:"",entrytime:"",roleId:[],roles:[],worknumber:"",phone:"",email:"",address:"",tips:"",enabled:!0,traings:[],qualifications:[],ips:[]}},visible:function(){var e=this;this.reset(),this.$axios.get(this.basic_url+"/api-user/users/currentMap",{}).then(function(t){e.user.createby=t.data.id,e.user.createbyName=t.data.nickname,e.user.enterby=t.data.id,e.user.enterbyName=t.data.nickname;var s=new Date;e.user.createTime=e.$moment(s).format("YYYY-MM-DD HH:mm:ss")}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})}),this.addtitle=!0,this.modifytitle=!1,this.viewtitle=!1,this.dept=!1,this.noedit=!1,this.views=!1,this.noviews=!0,this.modify=!1,this.hintshow=!1,this.statusshow1=!0,this.statusshow2=!1},addfield1:function(){var e=this;this.$axios.get(this.basic_url+"/api-user/users/currentMap",{}).then(function(t){e.currentUser=t.data.nickname,e.enterby=t.data.id;var s=new Date;e.currentDate=e.$moment(s).format("YYYY-MM-DD  HH:mm:ss");var a={step:1,c_num:"",c_name:"",c_date:"",status:"",enterdate:e.currentDate,enterbyName:e.currentUser,enterby:e.enterby,isEditing:!0};e.user.qualifications.push(a)}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})},addfield2:function(){this.user.traings.push({step:1,t_date:"",t_description:"",status:"",isEditing:!0})},addfield3:function(){this.user.ips.push({STEP:1,IP_BEGIN:"",IP_END:"",isEditing:!0})},deleteRow:function(e,t,s){var a=this;console.log(t);var i="";if(console.log(s),i="tableList"==s?"qualifications":"traingList"==s?"traings":"ips",t.id){var r=this.basic_url+"/api-user/users/"+i+"/"+t.id;this.$axios.delete(r,{}).then(function(t){console.log(t),0==t.data.resp_code?(a.user[i].splice(e,1),a.$message({message:"删除成功",type:"success"})):a.$message({message:t.data.resp_msg,type:"error"})}).catch(function(e){a.$message({message:"网络错误，请重试",type:"error"})})}else console.log(this.user[i]),this.user[i].splice(e,1)},handleClicks:function(e,t,s){this.getCheckboxData=e,this.i++,this.i%2==0&&(t?(this.$refs.tree.setCheckedNodes([]),this.$refs.tree.setCheckedNodes([e])):this.$refs.tree.setCheckedNodes([]))},handleNodeClick:function(e){}},r()(a,"visible",function(){var e=this;this.user={companyName:"",deptName:"",username:"",password:"",nickname:"",birthday:"",sexName:"",idnumber:"",entrytime:"",roleId:[],roles:[],worknumber:"",phone:"",email:"",address:"",tips:"",enabled:!0,traings:[],qualifications:[],ips:[]},this.$axios.get(this.basic_url+"/api-user/users/currentMap",{}).then(function(t){e.user.createby=t.data.id,e.user.createbyName=t.data.nickname,e.user.enterby=t.data.id,e.user.enterbyName=t.data.nickname;var s=new Date;e.user.createTime=e.$moment(s).format("YYYY-MM-DD HH:mm:ss")}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})}),this.addtitle=!0,this.modifytitle=!1,this.viewtitle=!1,this.dept=!1,this.noedit=!1,this.views=!1,this.noviews=!0,this.modify=!1,this.hintshow=!1,this.statusshow1=!0,this.statusshow2=!1}),r()(a,"detail",function(e){var t=this;this.addtitle=!1,this.modifytitle=!0,this.viewtitle=!1,this.dept=!0,this.noedit=!1,this.views=!1,this.noviews=!0,this.hintshow=!1,this.modify=!0,this.statusshow1=!1,this.statusshow2=!0;var s=this.basic_url+"/api-user/users/currentMap";this.$axios.get(s,{}).then(function(e){t.user.changeby=e.data.nickname;var s=new Date;t.user.changedate=t.$moment(s).format("yyyy-MM-dd hh:mm:ss")}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})});var a=this.basic_url+"/api-user/users/"+e;this.$axios.get(a,{}).then(function(e){for(var s=0;s<e.data.qualifications.length;s++)e.data.qualifications[s].isEditing=!1;for(s=0;s<e.data.traings.length;s++)e.data.traings[s].isEditing=!1;t.user=e.data,t.user.sex="1"==t.user.sex?"男":"女",t.user.enabled=t.user.enabled?"活动":"不活动",t.user.ispermit="1"==t.user.ispermit?"是":"否",t.user.islogin="1"==t.user.islogin?"是":"否",t.user.roleId=[];var a=t.user.roles;for(s=0;s<a.length;s++)t.user.roleId.push(a[s].id);t.show=!0}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})}),r()(a,"view",function(e){var t=this;this.addtitle=!1,this.modifytitle=!1,this.viewtitle=!0,this.dept=!0,this.noedit=!0,this.views=!0,this.noviews=!1,this.show=!0;var s=this.basic_url+"/api-user/users/"+e;this.$axios.get(s,{}).then(function(e){t.user=e.data,t.user.sex=t.user.sex?"男":"女",t.user.enabled=t.user.enabled?"活动":"不活动",t.user.ispermit="1"==t.user.ispermit?"是":"否",t.user.islogin="1"==t.user.islogin?"是":"否",t.user.roleId=[];for(var s=t.user.roles,a=0;a<s.length;a++)t.user.roleId.push(s[a].id);t.show=!0}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})}),r()(a,"close",function(){this.show=!1,this.$emit("request")}),r()(a,"open",function(){this.show=!0}),r()(a,"toggle",function(e){1==this.isok1?this.maxDialog():this.rebackDialog()}),r()(a,"maxDialog",function(t){this.isok1=!1,this.isok2=!0,e(".mask_div").width(document.body.clientWidth),e(".mask_div").height(document.body.clientHeight-60),e(".mask_div").css("top","60px")}),r()(a,"rebackDialog",function(){this.isok1=!0,this.isok2=!1,e(".mask_div").css("width","80%"),e(".mask_div").css("height","80%"),e(".mask_div").css("top","100px")}),r()(a,"getCheckedNodes",function(){this.checkedNodes=this.$refs.tree.getCheckedNodes()}),r()(a,"save",function(){var e=this,t=this;this.$refs.user.validate(function(s){if(s){t.user.enabled=!0,t.user.ispermit="是"==t.user.ispermit?"1":"2",t.user.islogin="是"==t.user.islogin?"1":"2";var a=t.user;a.sex="男"==a.sex?1:0;var i="";if("undefind"!=typeof a.roleId&&a.roleId.length>0){var r=[];a.roleId.forEach(function(e){for(var s=t.selectData,a=0;a<s.length;a++)s[a].id==e&&(r.push(s[a]),i=i+s[a].id+",")}),a.roleId=i,a.roles=r}else a.roleId="",a.roles=[];var l=t.basic_url+"/api-user/users/saveOrUpdate";e.$axios.post(l,t.user).then(function(t){0==t.data.resp_code&&(e.$message({message:"保存成功",type:"success"}),e.$emit("request"))}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})}),e.falg=!0}else e.show=!0,e.$message({message:"有必填项未填写，请重新填写",type:"warning"}),e.falg=!1})}),r()(a,"saveAndUpdate",function(){this.save(),this.falg&&(this.show=!1),this.$emit("request")}),r()(a,"saveAndSubmit",function(){this.save(),this.reset(),this.$emit("request")}),r()(a,"getCompany",function(){var e=this;this.editSearch="company";this.page.currentPage,this.page.pageSize;var t=this.basic_url+"/api-user/depts/treeByType";this.$axios.get(t,{params:{type:"1"}}).then(function(t){e.resourceData=t.data,e.dialogVisible=!0})}),r()(a,"getDept",function(){var e=this;this.editSearch="dept";this.page.currentPage,this.page.pageSize;var t=this.basic_url+"/api-user/depts/treeMap";this.$axios.get(t,{}).then(function(t){e.resourceData=t.data,e.dialogVisible=!0})}),r()(a,"getRole",function(){var e=this;this.editSearch="role";var t=this.basic_url+"/api-user/roles";this.$axios.get(t,{}).then(function(t){e.selectData=t.data.data}).catch(function(e){console.log("请求失败")})}),r()(a,"dailogconfirm",function(){this.getCheckedNodes(),this.placetext=!1,this.dialogVisible=!1,"company"==this.editSearch?(this.user.companyId=this.getCheckboxData.id,this.user.companyName=this.getCheckboxData.fullname):(this.user.deptId=this.getCheckboxData.id,this.user.deptName=this.getCheckboxData.fullname)}),r()(a,"handleClose",function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}),a),mounted:function(){this.getRole()}}}).call(t,s("7t+N"))},vmPx:function(e,t,s){"use strict";var a=s("NJ3C"),i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.show?s("div",{staticClass:"mask"}):e._e(),e._v(" "),e.show?s("div",{staticClass:"mask_divbg"},[s("div",{staticClass:"mask_div"},[s("div",{staticClass:"mask_title_div clearfix"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.addtitle,expression:"addtitle"}],staticClass:"mask_title"},[e._v("添加用户")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.modifytitle,expression:"modifytitle"}],staticClass:"mask_title"},[e._v("修改用户")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.viewtitle,expression:"viewtitle"}],staticClass:"mask_title"},[e._v("查看用户")]),e._v(" "),s("div",{staticClass:"mask_anniu"},[s("span",{staticClass:"mask_span mask_max",on:{click:e.toggle}},[s("i",{class:{"icon-maximization":e.isok1,"icon-restore":e.isok2}})]),e._v(" "),s("span",{staticClass:"mask_span",on:{click:e.close}},[s("i",{staticClass:"icon-close1"})])])]),e._v(" "),s("div",{staticClass:"mask_content"},[s("el-form",{ref:"user",staticClass:"demo-user",attrs:{model:e.user,"inline-message":"",rules:e.rules,"label-position":e.labelPositions}},[s("div",{staticClass:"accordion"},[s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{title:"用户基本资料",name:"1"}},[s("el-row",[s("el-col",{attrs:{span:8}},[e.modify?s("el-form-item",{attrs:{label:"用户名","label-width":"100px"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1):s("el-form-item",{attrs:{label:"用户名",prop:"username","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[e.modify?s("el-form-item",{attrs:{label:"密码","label-width":"100px"}},[s("el-input",{attrs:{type:"password",disabled:!0},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}},[s("el-button",{attrs:{slot:"append",icon:"icon-edit"},on:{click:e.editpassword},slot:"append"})],1)],1):s("el-form-item",{attrs:{label:"密码",prop:"password","label-width":"100px"}},[s("el-input",{attrs:{type:"password",disabled:e.noedit},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"姓名",prop:"nickname","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}}),e._v(" "),s("span",{staticClass:"error"})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"职务",prop:"post","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.post,callback:function(t){e.$set(e.user,"post",t)},expression:"user.post"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"工号",prop:"worknumber","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.worknumber,callback:function(t){e.$set(e.user,"worknumber",t)},expression:"user.worknumber"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"性別",prop:"sex","label-width":"100px"}},[s("el-radio-group",{attrs:{disabled:e.noedit},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[s("el-radio",{attrs:{label:"男"}}),e._v(" "),s("el-radio",{attrs:{label:"女"}})],1)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"身份证号",prop:"idnumber","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.idnumber,callback:function(t){e.$set(e.user,"idnumber",t)},expression:"user.idnumber"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"手机号",prop:"phone","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"电子邮箱",prop:"email","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"用户有效期",prop:"user_active_date","label-width":"100px"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss",disabled:e.noedit},model:{value:e.user.user_active_date,callback:function(t){e.$set(e.user,"user_active_date",t)},expression:"user.user_active_date"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"允许授权",prop:"ispermit","label-width":"100px"}},[s("el-radio-group",{attrs:{disabled:e.noedit},model:{value:e.user.ispermit,callback:function(t){e.$set(e.user,"ispermit",t)},expression:"user.ispermit"}},[s("el-radio",{attrs:{label:"是"}}),e._v(" "),s("el-radio",{attrs:{label:"否"}})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"允许登录",prop:"islogin","label-width":"100px"}},[s("el-radio-group",{attrs:{disabled:e.noedit},model:{value:e.user.islogin,callback:function(t){e.$set(e.user,"islogin",t)},expression:"user.islogin"}},[s("el-radio",{attrs:{label:"是"}}),e._v(" "),s("el-radio",{attrs:{label:"否"}})],1)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"所属机构",prop:"deptName","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.edit},model:{value:e.user.deptName,callback:function(t){e.$set(e.user,"deptName",t)},expression:"user.deptName"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search",disabled:e.noedit},on:{click:e.getDept},slot:"append"})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"学历",prop:"education","label-width":"100px"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"硕士",disabled:e.noedit},model:{value:e.user.education,callback:function(t){e.$set(e.user,"education",t)},expression:"user.education"}},e._l(e.options,function(e,t){return s("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"ERP",prop:"erp_orgname","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.edit},model:{value:e.user.erp_orgname,callback:function(t){e.$set(e.user,"erp_orgname",t)},expression:"user.erp_orgname"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"IP地址",prop:"ipaddress","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.ipaddress,callback:function(t){e.$set(e.user,"ipaddress",t)},expression:"user.ipaddress"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"MAC地址",prop:"macaddress","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.noedit},model:{value:e.user.macaddress,callback:function(t){e.$set(e.user,"macaddress",t)},expression:"user.macaddress"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"角色",prop:"roleId","label-width":"100px"}},[s("el-select",{attrs:{multiple:"",disabled:e.noedit,"default-first-option":"","value-key":"item.id"},on:{change:e.change},model:{value:e.user.roleId,callback:function(t){e.$set(e.user,"roleId",t)},expression:"user.roleId"}},e._l(e.selectData,function(e,t){return s("el-option",{key:t,attrs:{value:e.id,label:e.name}})}))],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"备注",prop:"tips","label-width":"100px"}},[s("el-input",{attrs:{type:"textarea",disabled:e.noedit},model:{value:e.user.tips,callback:function(t){e.$set(e.user,"tips",t)},expression:"user.tips"}})],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"el-collapse-item pt10 pr20 pb20",attrs:{"aria-expanded":"true",accordion:""}},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"资质信息",name:"first"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.noviews,expression:"noviews"}],staticClass:"table-func table-funcb"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.viewtitle,expression:"!viewtitle"}],attrs:{type:"success",size:"mini",round:""},on:{click:e.addfield1}},[s("i",{staticClass:"icon-add"}),e._v(" "),s("font",[e._v("新建行")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":e.rowClass,fig:!0,data:e.user.qualifications,"row-key":"ID",border:"",stripe:"","max-height":"260","highlight-current-row":"highlight-current-row","default-sort":{prop:"user.qualifications",order:"descending"}},on:{"cell-click":e.iconOperation}},[e.viewtitle?e._e():s("el-table-column",{attrs:{prop:"iconOperation",fixed:"",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.isEditing?s("i",{staticClass:"el-icon-check"}):s("i",{staticClass:"el-icon-edit"})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"step",label:"序号",sortable:"",width:"120px",type:"index"}}),e._v(" "),s("el-table-column",{attrs:{prop:"c_num",label:"证书编号",sortable:"",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"qualifications."+t.$index+".c_num",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[t.row.isEditing?s("el-input",{attrs:{size:"small",placeholder:"请输入委托方名称"},model:{value:t.row.c_num,callback:function(s){e.$set(t.row,"c_num",s)},expression:"scope.row.c_num"}}):s("span",[e._v(e._s(t.row.c_num))])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"c_name",label:"证书名称",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"qualifications."+t.$index+".c_name"}},[t.row.isEditing?s("el-input",{attrs:{size:"small",placeholder:"请输入委托方名称"},model:{value:t.row.c_name,callback:function(s){e.$set(t.row,"c_name",s)},expression:"scope.row.c_name"}}):s("span",[e._v(e._s(t.row.c_name))])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"c_date",label:"资质有效期",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"qualifications."+t.$index+".c_date"}},[t.row.isEditing?s("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.row.c_date,callback:function(s){e.$set(t.row,"c_date",s)},expression:"scope.row.c_date"}}):s("span",[e._v(e._s(t.row.c_date))])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"enterdate",label:"录入时间",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"qualifications."+t.$index+".enterdate"}},[t.row.isEditing?s("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.row.enterdate,callback:function(s){e.$set(t.row,"enterdate",s)},expression:"scope.row.enterdate"}}):s("span",[e._v(e._s(t.row.enterdate))])],1)]}}])}),e._v(" "),e.viewtitle?e._e():s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.deleteRow(t.$index,t.row,"tableList")}}},[s("i",{staticClass:"icon-trash red"})])]}}])})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"培训",name:"second"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.noviews,expression:"noviews"}],staticClass:"table-func table-funcb"},[e.viewtitle?e._e():s("el-button",{attrs:{type:"success",size:"mini",round:""},on:{click:e.addfield2}},[s("i",{staticClass:"icon-add"}),e._v(" "),s("font",[e._v("新建行")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":e.rowClass,fit:!0,data:e.user.traings,"row-key":"ID",border:"",stripe:"","max-height":"260","highlight-current-row":"highlight-current-row","default-sort":{prop:"user.traings",order:"descending"}},on:{"cell-click":e.iconOperation}},[e.viewtitle?e._e():s("el-table-column",{attrs:{prop:"iconOperation",fixed:"",label:"",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.isEditing?s("i",{staticClass:"el-icon-check"}):s("i",{staticClass:"el-icon-edit"})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"序号",sortable:"",width:"120px",type:"index"}}),e._v(" "),s("el-table-column",{attrs:{prop:"t_date",label:"培训时间",sortable:"",width:"240px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"traings."+t.$index+".t_date"}},[t.row.isEditing?s("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:t.row.t_date,callback:function(s){e.$set(t.row,"t_date",s)},expression:"scope.row.t_date"}}):s("span",[e._v(e._s(t.row.t_date))])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"t_description",label:"培训内容",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"traings."+t.$index+".t_description"}},[t.row.isEditing?s("el-input",{attrs:{size:"small",placeholder:"请输入委托方名称"},model:{value:t.row.t_description,callback:function(s){e.$set(t.row,"t_description",s)},expression:"scope.row.t_description"}}):s("span",[e._v(e._s(t.row.t_description))])],1)]}}])}),e._v(" "),e.viewtitle?e._e():s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.deleteRow(t.$index,t.row,"traingList")}}},[s("i",{staticClass:"icon-trash red"})])]}}])})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"IP地址管理",name:"third"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.noviews,expression:"noviews"}],staticClass:"table-func table-funcb"},[e.viewtitle?e._e():s("el-button",{attrs:{type:"success",size:"mini",round:""},on:{click:e.addfield3}},[s("i",{staticClass:"icon-add"}),e._v(" "),s("font",[e._v("新建行")])],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":e.rowClass,fit:!0,data:e.user.ips,"row-key":"ID",border:"",stripe:"","max-height":"260","highlight-current-row":"highlight-current-row","default-sort":{prop:"user.ips",order:"descending"}},on:{"cell-click":e.iconOperation}},[e.viewtitle?e._e():s("el-table-column",{attrs:{prop:"iconOperation",fixed:"",label:"",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.isEditing?s("i",{staticClass:"el-icon-check"}):s("i",{staticClass:"el-icon-edit"})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"序号",sortable:"",width:"120px",prop:"STEP"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{directives:[{name:"show",rawName:"v-show",value:t.row.isEditing,expression:"scope.row.isEditing"}],attrs:{size:"small",disabled:""},model:{value:t.$index+1,callback:function(s){e.$set(t,"$index + 1",s)},expression:"scope.$index + 1"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.isEditing,expression:"!scope.row.isEditing"}]},[e._v(e._s(t.row.STEP))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"IP_BEGIN",label:"起始IP地址",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"ips."+t.$index+".IP_BEGIN"}},[t.row.isEditing?s("el-input",{attrs:{size:"small",placeholder:"请输入起始IP地址"},model:{value:t.row.IP_BEGIN,callback:function(s){e.$set(t.row,"IP_BEGIN",s)},expression:"scope.row.IP_BEGIN"}}):s("span",[e._v(e._s(t.row.IP_BEGIN))])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"IP_END",label:"结束IP地址",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"ips."+t.$index+".IP_END"}},[t.row.isEditing?s("el-input",{attrs:{size:"small",placeholder:"请输入结束IP地址"},model:{value:t.row.IP_END,callback:function(s){e.$set(t.row,"IP_END",s)},expression:"scope.row.IP_END"}}):s("span",[e._v(e._s(t.row.IP_END))])],1)]}}])}),e._v(" "),e.viewtitle?e._e():s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.deleteRow(t.$index,t.row,"ipaddressList")}}},[s("i",{staticClass:"icon-trash red"})])]}}])})],1)],1)],1)],1),e._v(" "),s("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.views,expression:"views"}],attrs:{title:"其他",name:"4"}},[s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"录入人",prop:"createby","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.edit},model:{value:e.user.createbyName,callback:function(t){e.$set(e.user,"createbyName",t)},expression:"user.createbyName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"录入时间",prop:"createTime","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.edit},model:{value:e.user.createTime,callback:function(t){e.$set(e.user,"createTime",t)},expression:"user.createTime"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"修改人",prop:"updateby","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.edit},model:{value:e.user.updateby,callback:function(t){e.$set(e.user,"updateby",t)},expression:"user.updateby"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"修改时间",prop:"updateTime","label-width":"100px"}},[s("el-input",{attrs:{disabled:e.edit},model:{value:e.user.updateTime,callback:function(t){e.$set(e.user,"updateTime",t)},expression:"user.updateTime"}})],1)],1)],1)],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.noviews,expression:"noviews"}],staticClass:"el-dialog__footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAndUpdate()}}},[e._v("保存")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.addtitle,expression:"addtitle"}],attrs:{type:"success"},on:{click:function(t){e.saveAndSubmit()}}},[e._v("保存并继续")]),e._v(" "),s("el-button",{on:{click:e.close}},[e._v("取消")])],1)])],1)]),e._v(" "),s("el-dialog",{attrs:{"modal-append-to-body":!1,title:"机构",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-tree",{ref:"tree",attrs:{data:e.resourceData,"show-checkbox":"","node-key":"id","default-expand-all":"","default-checked-keys":e.resourceCheckedKey,props:e.resourceProps,"check-strictly":""},on:{"node-click":e.handleNodeClick,"check-change":e.handleClicks}}),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dailogconfirm()}}},[e._v("确 定")])],1)],1)],1):e._e()])},staticRenderFns:[]};var r=function(e){s("7/ni")},l=s("VU/8")(a.a,i,!1,r,"data-v-08e510d9",null);t.a=l.exports},wPn8:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("5ua5"),i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"headerbg"},[s("vheader"),e._v(" "),s("navs_header",{ref:"navsheader"})],1),e._v(" "),s("div",{staticClass:"contentbg"},[s("navs_left",{ref:"navleft",on:{childByValue:e.childByValue}}),e._v(" "),s("div",{staticClass:"wrapper wrapper-content"},[s("div",{staticClass:"ibox-content"},[s("div",{staticClass:"fixed-table-toolbar clearfix"},[s("div",{staticClass:"bs-bars pull-left"},[s("div",{staticClass:"hidden-xs",attrs:{id:"roleTableToolbar",role:"group"}},e._l(e.buttons,function(t){return s("button",{staticClass:"btn mr5",class:t.style,on:{click:function(s){e.getbtn(t)}}},[s("i",{class:t.icon}),e._v(e._s(t.name)+"\n\t\t\t\t\t\t\t\t")])}))]),e._v(" "),s("div",{staticClass:"columns columns-right btn-group pull-right"},[e._m(0),e._v(" "),s("div",{staticClass:"keep-open btn-group",attrs:{title:"列"}},[s("el-dropdown",{staticClass:"pl10 btn btn-default btn-outline",attrs:{"hide-on-click":!1}},[s("span",{staticClass:"el-dropdown-link"},[s("font",{staticClass:"J_tabClose"},[s("i",{staticClass:"icon-menu3"})]),e._v(" "),s("i",{staticClass:"el-icon-arrow-down icon-arrow2-down"})],1),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-checkbox-group",{model:{value:e.checkedName,callback:function(t){e.checkedName=t},expression:"checkedName"}},e._l(e.tableHeader,function(e,t){return s("el-dropdown-item",{key:t},[s("el-checkbox",{attrs:{label:e.label,name:"type"}})],1)}))],1)],1)],1)])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}]},[s("el-form",{attrs:{model:e.searchList}},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:5}},[s("el-form-item",{attrs:{label:"用户名",prop:"username","label-width":"55px"}},[s("el-input",{model:{value:e.searchList.username,callback:function(t){e.$set(e.searchList,"username",t)},expression:"searchList.username"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-form-item",{attrs:{label:"姓名",prop:"nickname","label-width":"45px"}},[s("el-input",{model:{value:e.searchList.nickname,callback:function(t){e.$set(e.searchList,"nickname",t)},expression:"searchList.nickname"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-form-item",{attrs:{label:"机构名称",prop:"deptId","label-width":"70px"}},[s("el-select",{staticStyle:{width:"90%","border-radius":"none"},attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择"},model:{value:e.searchList.deptId,callback:function(t){e.$set(e.searchList,"deptId",t)},expression:"searchList.deptId"}},e._l(e.selectData,function(e,t){return s("el-option",{key:t,attrs:{value:e.id,label:e.fullname}})}))],1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("el-button",{staticStyle:{"margin-top":"2px"},attrs:{type:"primary",size:"small"},on:{click:e.searchinfo}},[e._v("搜索")]),e._v(" "),s("el-button",{staticStyle:{"margin-top":"2px","margin-left":"2px"},attrs:{type:"primary",size:"small"},on:{click:e.resetbtn}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),s("el-row",{attrs:{gutter:10}},[s("el-col",{staticClass:"lefttree",attrs:{span:5}},[s("div",{staticClass:"lefttreebg"},[s("div",{staticClass:"left_tree_title clearfix",on:{click:function(t){e.min3max()}}},[e.ismin?s("div",{staticClass:"pull-left pr20"},[e._v("组织机构")]):e._e(),e._v(" "),s("span",{staticClass:"pull-right navbar-minimalize minimalize-styl-2"},[s("i",{staticClass:"icon-doubleok icon-double-angle-left blue"})])]),e._v(" "),s("div",{staticClass:"left_treebg",style:{height:e.fullHeight}},[e.ismin?s("div",{staticClass:"p15"},[s("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.resourceData,"node-key":"id","default-expand-all":"",indent:22,"render-content":e.renderContent,props:e.resourceProps},on:{"node-click":e.handleNodeClick}})],1):e._e()])])]),e._v(" "),s("el-col",{staticClass:"leftcont v-resize",attrs:{span:19}},[s("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.userList,border:"",stripe:"","header-cell-style":e.rowClass,height:e.fullHeight,"default-sort":{prop:"userList",order:"descending"},"element-loading-text":"加载中…","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.9)"},on:{"selection-change":e.SelChange}},[this.checkedName.length>0?s("el-table-column",{attrs:{type:"selection",width:"55",fixed:"",align:"center"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("用户名")?s("el-table-column",{attrs:{label:"用户名",sortable:"",width:"140px",prop:"username"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",{staticClass:"blue",attrs:{title:"点击查看详情"},on:{click:function(s){e.view(t.row.id)}}},[e._v(e._s(t.row.username)+"\n\t\t\t\t\t\t\t\t\t\t")])]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("姓名")?s("el-table-column",{attrs:{label:"姓名",sortable:"",width:"200px",prop:"nickname"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("性别")?s("el-table-column",{attrs:{label:"性别",sortable:"",width:"100px",prop:"sexName"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("机构")?s("el-table-column",{attrs:{label:"机构",sortable:"",width:"150px",prop:"deptName"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("手机号")?s("el-table-column",{attrs:{label:"手机号",sortable:"",width:"150px",prop:"phone"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("员工号")?s("el-table-column",{attrs:{label:"员工号",sortable:"",width:"150px",prop:"worknumber"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("用户有效期")?s("el-table-column",{attrs:{label:"用户有效期",prop:"user_active_date",width:"150px",sortable:"",formatter:e.dateFormat}}):e._e()],1),e._v(" "),this.checkedName.length>0?s("el-pagination",{staticClass:"pull-right pt10",attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e()],1)],1)],1)])],1),e._v(" "),s("usermask",{ref:"child",attrs:{user:e.user,page:e.page},on:{request:e.requestData,requestTree:e.getKey}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn btn-default btn-refresh",attrs:{id:"refresh",title:"刷新"}},[t("i",{staticClass:"icon-refresh"})])}]};var r=function(e){s("8ncs")},l=s("VU/8")(a.a,i,!1,r,null,null);t.default=l.exports}});
//# sourceMappingURL=10.963cce59c817f7edfee3.js.map