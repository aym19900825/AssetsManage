webpackJsonp([15],{"7xcp":function(e,t,a){"use strict";(function(e){var s=a("QmSG"),l=a("GkRW"),i=a("hbvp"),o=a("h7vj"),r=a("VEhc"),n=a("xCe4");t.a={name:"return_samples",components:{vheader:l.a,navs_left:i.a,navs_header:o.a,tableControle:r.a,samplesmask:n.a},data:function(){return{loading:!1,basic_url:s.a.dev_url,isShow:!1,ismin:!0,loadSign:!0,commentArr:{},checkedName:["样品编号","样品序号","数量","收回入库时间","样品承接人","处理批准人","批准日期","处理人","处理日期","备注","状态","信息状态"],tableHeader:[{label:"样品编号",prop:"ITEMNUM"},{label:"样品序号",prop:"ITEM_STEP"},{label:"数量",prop:"QUALITY"},{label:"收回入库时间",prop:"ACCEPT_DATE"},{label:"样品承接人",prop:"ACCEPT_PERSON"},{label:"处理批准人",prop:"APPR_PERSON"},{label:"批准日期",prop:"APPR_DATE"},{label:"处理人",prop:"DO_PERSON"},{label:"处理日期",prop:"DO_DATE"},{label:"备注",prop:"MEMO"},{label:"状态",prop:"STATEDesc"},{label:"信息状态",prop:"STATUS"}],companyId:"",deptId:"",selMenu:[],"启用":!0,"冻结":!1,samplesList:[],fullHeight:document.documentElement.clientHeight-210+"px",search:!1,show:!1,down:!0,up:!1,searchList:{ITEMNUM:"",APPR_PERSON:"",ACCEPT_PERSON:"",ITEM_STEP:"",APPR_DATE:"",ACCEPT_DATE:""},resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"fullname"},treeData:[],page:{currentPage:1,pageSize:20,totalCount:0},samplesForm:{}}},methods:{rowClass:function(e){e.row,e.rowIndex;return"text-align:center"},renderContent:function(e,t){var a=t.node,s=t.data;t.store;return e("span",[e("i",{class:s.iconClass}),e("span",[a.label])])},nodeClick:function(e){"icon-file-text"!=e.iconClass&&("icon-file-normal"==e.iconClass?e.iconClass="icon-file-open":e.iconClass="icon-file-normal"),this.handleNodeClick()},expandClick:function(e){"icon-file-text"!=e.iconClass&&("icon-file-normal"==e.iconClass?e.iconClass="icon-file-open":e.iconClass="icon-file-normal"),e.isFolder=!e.isFolder},loadMore:function(){var e=this,t=sessionStorage.getItem("up2down");if(this.loadSign){if("down"==t){if(this.page.currentPage++,this.page.currentPage>Math.ceil(this.page.totalCount/this.page.pageSize))return this.page.currentPage=Math.ceil(this.page.totalCount/this.page.pageSize),!1}else if(this.page.currentPage--,this.page.currentPage<1)return this.page.currentPage=1,!1;this.loadSign=!1,setTimeout(function(){e.loadSign=!0},1e3),this.requestData()}},tableControle:function(e){this.checkedName=e},sizeChange:function(e){this.page.pageSize=e,this.requestData()},currentChange:function(e){this.page.currentPage=e,this.requestData()},searchinfo:function(e){this.page.currentPage=1,this.page.pageSize=20,this.requestData()},resetbtn:function(){this.searchList={ITEMNUM:"",APPR_PERSON:"",ACCEPT_PERSON:"",ITEM_STEP:"",APPR_DATE:"",ACCEPT_DATE:""},this.requestData()},openAddMgr:function(){this.samplesForm={ITEM_LINE_ID:"",ITEMNUM:"",QUALITY:"",ACCEPT_DATE:"",ACCEPT_PERSON:"",APPR_PERSON:"",APPR_DATE:"",DO_PERSON:"",DO_DATE:"",MEMO:"",STATE:"3",STATEDesc:"已检",STATUS:"",ENTERBY:"",ENTERDATE:"",CHANGEBY:"",CHANGEDATE:""},this.$refs.child.childMethods()},modify:function(){0!=this.selMenu.length?this.selMenu.length>1?this.$message({message:"不可同时修改多条数据",type:"warning"}):(this.samplesForm=this.selMenu[0],this.$refs.child.detail()):this.$message({message:"请您选择要修改的数据",type:"warning"})},view:function(e){this.samplesForm=e,this.$refs.child.view()},modestsearch:function(){this.search=!this.search,this.down=!this.down,this.up=!this.up},deluserinfo:function(){var e=this,t=this.selMenu;if(0!=t.length){for(var a=this.basic_url+"/api-apps/app/itemreturn/deletes",s=t,l=[],i=0;i<s.length;i++)l.push(s[i].ID);var o={ids:l.toString(",")};this.$confirm("确定删除此数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value;e.$axios.delete(a,{params:o}).then(function(t){0==t.data.resp_code&&(e.$message({message:"删除成功",type:"success"}),e.requestData())}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}).catch(function(){})}else this.$message({message:"请您选择要删除的数据",type:"warning"})},importData:function(){},exportData:function(){},Printing:function(){},judge:function(e){return e.APPR_PERSON?"启用":"冻结"},dateFormat:function(e,t){var a=e[t.property];return void 0==a?"":this.$moment(a).format("YYYY-MM-DD")},SelChange:function(e){this.selMenu=e},requestData:function(e){var t=this;this.loading=!0;var a={page:this.page.currentPage,limit:this.page.pageSize,ITEMNUM:this.searchList.ITEMNUM,APPR_PERSON:this.searchList.APPR_PERSON,ACCEPT_PERSON:this.searchList.ACCEPT_PERSON,ITEM_STEP:this.searchList.ITEM_STEP,APPR_DATE:this.searchList.APPR_DATE,ACCEPT_DATE:this.searchList.ACCEPT_DATE},s=this.basic_url+"/api-apps/app/itemreturn";this.$axios.get(s,{params:a}).then(function(e){t.page.totalCount=e.data.count;var a=Math.ceil(t.page.totalCount/t.page.pageSize);t.page.currentPage>=a?t.loadSign=!1:t.loadSign=!0,t.samplesList=e.data.data,t.loading=!1}).catch(function(e){})},formatter:function(e,t){return e.enabled},getKey:function(){var e=this,t=this.basic_url+"/api-user/depts/tree";this.$axios.get(t,{}).then(function(t){e.resourceData=t.data,e.treeData=e.transformTree(e.resourceData)})},transformTree:function(t){for(var a=0;a<t.length;a++)t[a].name=t[a].fullname,!t[a].pid||e.isArray(t[a].subDepts)?t[a].iconClass="icon-file-normal":t[a].iconClass="icon-file-text",e.isArray(t[a].subDepts)&&(t[a].children=this.transformTree(t[a].subDepts));return t},handleNodeClick:function(e){"1"==e.type?(this.companyId=e.id,this.deptId=""):(this.deptId=e.id,this.companyId=""),this.requestData()},min3max:function(){e(".lefttree").hasClass("el-col-5")?(e(".lefttree").removeClass("el-col-5"),e(".lefttree").addClass("el-col-1"),e(".leftcont").removeClass("el-col-19"),e(".leftcont").addClass("el-col-23"),e(".icon-doubleok").removeClass("icon-double-angle-left"),e(".icon-doubleok").addClass("icon-double-angle-right")):(e(".lefttree").removeClass("el-col-1"),e(".lefttree").addClass("el-col-5"),e(".leftcont").removeClass("el-col-23"),e(".leftcont").addClass("el-col-19"),e(".icon-doubleok").removeClass("icon-double-angle-right"),e(".icon-doubleok").addClass("icon-double-angle-left")),this.ismin=!this.ismin}},mounted:function(){this.requestData(),this.getKey()}}}).call(t,a("7t+N"))},GPQ0:function(e,t){},Hwi1:function(e,t,a){"use strict";(function(e){var s=a("bOdI"),l=a.n(s),i=a("QmSG");t.a={name:"collarsample_mask",props:["samplesForm","page"],data:function(){return l()({falg:!1,basic_url:i.a.dev_url,value:"",options:[{value:"1",label:"活动"},{value:"0",label:"不活动"}],selectData:[],modify:!1,selMenu:[],show:!1,isok1:!0,isok2:!1,down:!0,up:!1,dialogVisible:!1,edit:!0,activeNames:["1","2"],labelPosition:"right",addtitle:!0,modifytitle:!1,viewtitle:!1,views:!1,noviews:!0,samples_itemlineForm:{inspectionList:[]},resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"children",label:"fullname"},getCheckboxData:{},isEditing:"",commentArr:{},rules:{ACCEPT_PERSON:[{required:!0,message:"请填写样品承接人",trigger:"blur"}],ACCEPT_DATE:[{required:!0,message:"批准日期不能为空",trigger:"blur"}],APPR_PERSON:[{required:!0,message:"请填写处理批准人",trigger:"blur"}],APPR_DATE:[{required:!0,message:"请选择类别",trigger:"change"}],QUALITY:[{required:!0,message:"请填写数量",trigger:"blur"}],DO_PERSON:[{required:!0,message:"处理人不能为空",trigger:"blur"}],DO_DATE:[{required:!0,message:"处理日期不能为空",trigger:"blur"}]},page:{currentPage:1,pageSize:10,totalCount:0},dialogsample:!1,dialogsamplenum:!1,samplesList:[],samplenumList:[],loadSign:!1},"commentArr",{})},methods:l()({rowClass:function(e){e.row,e.rowIndex;return"text-align:center"},sizeChange:function(e){this.page.pageSize=e,this.requestData()},currentChange:function(e){this.page.currentPage=e,this.requestData()},handleCheckChange:function(e,t,a){this.getCheckboxData=e},dailogconfirm:function(){this.getCheckedNodes(),this.placetext=!1,this.dialogVisible=!1,this.editSearch,this.samplesForm.ITEM_LINE_ID=this.getCheckboxData.id,this.samplesForm.MEMO=this.getCheckboxData.fullname},getsample:function(){this.requestData(),this.dialogsample=!0},addsamplebtn:function(){0==this.selUser.length?this.$message({message:"请选择数据",type:"warning"}):this.selUser.length>1?this.$message({message:"不可选择多条数据",type:"warning"}):(this.samplesForm.ITEMNUM=this.selUser[0].ITEMNUM,this.dialogsample=!1,this.requestData())},SelChange:function(e){this.selUser=e},addsamplenum:function(){var e=this;this.dialogsamplenum=!0,this.$axios.get(this.basic_url+"/api-apps/app/itemline?ITEMNUM_wheres="+this.samplesForm.ITEMNUM,{}).then(function(t){e.samplenumList=t.data.data}).catch(function(e){})},addsamplenumbtn:function(){0==this.selUser.length?this.$message({message:"请选择数据",type:"warning"}):this.selUser.length>1?this.$message({message:"不可选择多条数据",type:"warning"}):(this.samplesForm.ITEM_STEP=this.selUser[0].ITEM_STEP,this.dialogsamplenum=!1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},getCheckedNodes:function(){this.checkedNodes=this.$refs.tree.getCheckedNodes()},childMethods:function(){var e=this;this.$axios.get(this.basic_url+"/api-user/users/currentMap",{}).then(function(t){console.log(t),e.samplesForm.DEPTID=t.data.deptId,e.samplesForm.ENTERBY=t.data.id;var a=new Date;e.samplesForm.ENTERDATE=e.$moment(a).format("YYYY-MM-DD  HH:mm:ss"),e.samplesForm.ACCEPT_DATE=e.$moment(a).format("YYYY-MM-DD  HH:mm:ss")}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})}),this.addtitle=!0,this.modifytitle=!1,this.viewtitle=!1,this.modify=!1,this.show=!0,this.noviews=!0,this.edit=!0,this.noedit=!1,this.views=!1},detail:function(){var e=this;this.$axios.get(this.basic_url+"/api-user/users/currentMap",{}).then(function(t){e.samplesForm.DEPTID=t.data.deptId,e.samplesForm.CHANGEBY=t.data.id;var a=new Date;e.samplesForm.CHANGEDATE=e.$moment(a).format("YYYY-MM-DD HH:mm:ss")}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})}),this.viewtitle=!1,this.addtitle=!1,this.modifytitle=!0,this.modify=!0,this.noviews=!0,this.show=!0,this.edit=!0,this.noedit=!1},view:function(){this.addtitle=!1,this.viewtitle=!0,this.modifytitle=!1,this.views=!0,this.noviews=!1,this.edit=!0,this.noedit=!0,this.show=!0},dateFormat:function(e,t){var a=e[t.property];return void 0==a?"":this.$moment(a).format("YYYY-MM-DD")},getType:function(){var e=this,t=this.basic_url+"/api-user/dicts/findChildsByCode?code=type";this.$axios.get(t,{}).then(function(t){e.selectData=t.data}).catch(function(e){console.log("请求失败")})},close:function(){this.show=!1,this.$emit("request")},toggle:function(e){1==this.isok1?this.maxDialog():this.rebackDialog()},maxDialog:function(t){this.isok1=!1,this.isok2=!0,e(".mask_div").width(document.body.clientWidth),e(".mask_div").height(document.body.clientHeight-60),e(".mask_div").css("top","60px")},rebackDialog:function(){this.isok1=!0,this.isok2=!1,e(".mask_div").css("width","80%"),e(".mask_div").css("height","80%"),e(".mask_div").css("top","100px")},loadMore:function(){var e=this;if(this.loadSign){if(this.loadSign=!1,this.page.currentPage++,this.page.currentPage>Math.ceil(this.page.totalCount/this.page.pageSize))return;setTimeout(function(){e.loadSign=!0},1e3),this.requestData()}},save:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.samplesForm.STATUS="活动"==t.samplesForm.STATUS?"1":"0";var a=t.basic_url+"/api-apps/app/itemreturn/saveOrUpdate";t.samplesForm.VERSION=t.samplesForm.VERSION+1,t.$axios.post(a,t.samplesForm).then(function(e){console.log(e),0==e.data.resp_code&&(t.$message({message:"保存成功",type:"success"}),t.$emit("request"))}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})}),t.falg=!0}else t.show=!0,t.$message({message:"未填写完整，请填写",type:"warning"}),t.falg=!1})},saveAndUpdate:function(e){this.save(e),this.falg&&(this.show=!1)},saveAndSubmit:function(e){this.save(e)},requestData:function(e){var t=this,a={page:this.page.currentPage,limit:this.page.pageSize};this.$axios.get(this.basic_url+"/api-apps/app/item",{params:a}).then(function(e){t.page.totalCount=e.data.count;var a=Math.ceil(t.page.totalCount/t.page.pageSize);t.page.currentPage>=a?t.loadSign=!1:t.loadSign=!0,t.commentArr[t.page.currentPage]=e.data.data;for(var s=[],l=1;l<=a;l++)if(void 0!==t.commentArr[l]&&t.commentArr[l].length>0)for(var i=0;i<t.commentArr[l].length;i++)s.push(t.commentArr[l][i]);t.samplesList=s}).catch(function(e){})}},"handleClose",function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}),mounted:function(){this.getType()}}}).call(t,a("7t+N"))},"Rg/2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7xcp"),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"headerbg"},[a("vheader"),e._v(" "),a("navs_header")],1),e._v(" "),a("div",{staticClass:"contentbg"},[a("navs_left"),e._v(" "),a("div",{staticClass:"wrapper wrapper-content"},[a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"fixed-table-toolbar clearfix"},[a("div",{staticClass:"bs-bars pull-left"},[a("div",{staticClass:"hidden-xs",attrs:{id:"roleTableToolbar",role:"group"}},[a("button",{staticClass:"btn btn-green",attrs:{type:"button",id:""},on:{click:e.openAddMgr}},[a("i",{staticClass:"icon-add"}),e._v("添加\n                      \t\t\t ")]),e._v(" "),a("button",{staticClass:"btn btn-blue button-margin",attrs:{type:"button"},on:{click:e.modify}},[a("i",{staticClass:"icon-edit"}),e._v("修改\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-red button-margin",attrs:{type:"button"},on:{click:e.deluserinfo}},[a("i",{staticClass:"icon-trash"}),e._v("删除\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.importData}},[a("i",{staticClass:"icon-upload-cloud"}),e._v("导入\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.exportData}},[a("i",{staticClass:"icon-download-cloud"}),e._v("导出\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.Printing}},[a("i",{staticClass:"icon-print"}),e._v("打印\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.modestsearch}},[a("i",{staticClass:"icon-search"}),e._v("高级查询\n\t\t\t\t\t\t    \t\t"),a("i",{directives:[{name:"show",rawName:"v-show",value:e.down,expression:"down"}],staticClass:"icon-arrow1-down"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.up,expression:"up"}],staticClass:"icon-arrow1-up"})])])]),e._v(" "),a("div",{staticClass:"columns columns-right btn-group pull-right"},[e._m(0),e._v(" "),a("tableControle",{ref:"tableControle",attrs:{tableHeader:e.tableHeader,checkedName:e.checkedName},on:{tableControle:e.tableControle}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}]},[a("el-form",{attrs:{model:e.searchList}},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品序号",prop:"ITEM_STEP","label-width":"85px"}},[a("el-input",{model:{value:e.searchList.ITEM_STEP,callback:function(t){e.$set(e.searchList,"ITEM_STEP",t)},expression:"searchList.ITEM_STEP"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"收回入库时间",prop:"ACCEPT_DATE","label-width":"100px"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择"},model:{value:e.searchList.ACCEPT_DATE,callback:function(t){e.$set(e.searchList,"ACCEPT_DATE",t)},expression:"searchList.ACCEPT_DATE"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品承接人",prop:"ACCEPT_PERSON","label-width":"85px"}},[a("el-input",{model:{value:e.searchList.ACCEPT_PERSON,callback:function(t){e.$set(e.searchList,"ACCEPT_PERSON",t)},expression:"searchList.ACCEPT_PERSON"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"处理批准人",prop:"APPR_PERSON","label-width":"85px"}},[a("el-input",{model:{value:e.searchList.APPR_PERSON,callback:function(t){e.$set(e.searchList,"APPR_PERSON",t)},expression:"searchList.APPR_PERSON"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"批准日期",prop:"APPR_DATE","label-width":"100px"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择"},model:{value:e.searchList.APPR_DATE,callback:function(t){e.$set(e.searchList,"APPR_DATE",t)},expression:"searchList.APPR_DATE"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{"margin-top":"2px"},attrs:{type:"primary",size:"small"},on:{click:e.searchinfo}},[e._v("搜索")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"2px","margin-left":"2px"},attrs:{type:"primary",size:"small"},on:{click:e.resetbtn}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{staticClass:"lefttree",attrs:{span:5}},[a("div",{staticClass:"lefttreebg"},[a("div",{staticClass:"left_tree_title clearfix",on:{click:function(t){e.min3max()}}},[e.ismin?a("div",{staticClass:"pull-left pr20"},[e._v("检索分类")]):e._e(),e._v(" "),a("span",{staticClass:"pull-right navbar-minimalize minimalize-styl-2"},[a("i",{staticClass:"icon-doubleok icon-double-angle-left blue"})])]),e._v(" "),a("div",{staticClass:"left_treebg",style:{height:e.fullHeight}},[e.ismin?a("div",{staticClass:"p15"},[a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.resourceData,"node-key":"id","default-expand-all":"",indent:22,"render-content":e.renderContent,props:e.resourceProps},on:{"node-click":e.handleNodeClick}})],1):e._e()])])]),e._v(" "),a("el-col",{staticClass:"leftcont v-resize",attrs:{span:19}},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.samplesList,"header-cell-style":e.rowClass,border:"",stripe:"",height:e.fullHeight,"default-sort":{prop:"samplesList",order:"descending"},"element-loading-text":"加载中…","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.9)"},on:{"selection-change":e.SelChange}},[this.checkedName.length>0?a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"",align:"center"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("样品编号")?a("el-table-column",{attrs:{label:"样品编号",sortable:"",width:"120px",prop:"ITEMNUM"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"blue",attrs:{title:"点击查看详情"},on:{click:function(a){e.view(t.row)}}},[e._v(e._s(t.row.ITEMNUM)+"\n\t\t\t\t\t\t\t\t\t\t")])]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("样品序号")?a("el-table-column",{attrs:{label:"样品序号",sortable:"",width:"100px",prop:"ITEM_STEP"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("数量")?a("el-table-column",{attrs:{label:"数量",width:"100px",prop:"QUALITY",sortable:""}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("收回入库时间")?a("el-table-column",{attrs:{label:"收回入库时间",width:"150px",prop:"ACCEPT_DATE",sortable:"",formatter:e.dateFormat}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("样品承接人")?a("el-table-column",{attrs:{label:"样品承接人",sortable:"",width:"120px",prop:"ACCEPT_PERSON"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("处理批准人")?a("el-table-column",{attrs:{label:"处理批准人",sortable:"",width:"120px",prop:"APPR_PERSON"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("批准日期")?a("el-table-column",{attrs:{label:"批准日期",sortable:"",width:"100px",prop:"APPR_DATE",formatter:e.dateFormat}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("处理人")?a("el-table-column",{attrs:{label:"处理人",sortable:"",width:"120px",prop:"DO_PERSON"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("处理日期")?a("el-table-column",{attrs:{label:"处理日期",sortable:"",width:"100px",formatter:e.dateFormat,prop:"DO_DATE"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("备注")?a("el-table-column",{attrs:{label:"备注",sortable:"",width:"160px",prop:"MEMO"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("状态")?a("el-table-column",{attrs:{label:"状态",sortable:"",width:"140px",prop:"STATEDesc"}}):e._e()],1),e._v(" "),this.checkedName.length>0?a("el-pagination",{staticClass:"pull-right pt10",attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e()],1)],1)],1)])],1),e._v(" "),a("samplesmask",{ref:"child",attrs:{samplesForm:e.samplesForm,page:e.page},on:{request:e.requestData,requestTree:e.getKey}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn btn-default btn-refresh",attrs:{id:"refresh",title:"刷新"}},[t("i",{staticClass:"icon-refresh"})])}]};var i=function(e){a("GPQ0")},o=a("VU/8")(s.a,l,!1,i,null,null);t.default=o.exports},"vmy/":function(e,t){},xCe4:function(e,t,a){"use strict";var s=a("Hwi1"),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.show?a("div",{staticClass:"mask"}):e._e(),e._v(" "),e.show?a("div",{staticClass:"mask_divbg"},[a("div",{staticClass:"mask_div"},[a("div",{staticClass:"mask_title_div clearfix"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.addtitle,expression:"addtitle"}],staticClass:"mask_title"},[e._v("添加返样")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.modifytitle,expression:"modifytitle"}],staticClass:"mask_title"},[e._v("修改返样")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.viewtitle,expression:"viewtitle"}],staticClass:"mask_title"},[e._v("查看返样")]),e._v(" "),a("div",{staticClass:"mask_anniu"},[a("span",{staticClass:"mask_span mask_max",on:{click:e.toggle}},[a("i",{class:{"icon-maximization":e.isok1,"icon-restore":e.isok2}})]),e._v(" "),a("span",{staticClass:"mask_span",on:{click:e.close}},[a("i",{staticClass:"icon-close1"})])])]),e._v(" "),a("div",{staticClass:"mask_content"},[a("el-form",{ref:"samplesForm",attrs:{model:e.samplesForm,"label-position":e.labelPosition,rules:e.rules,"label-width":"110px","status-icon":"","inline-message":""}},[a("div",{staticClass:"accordion"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基础信息",name:"1"}},[a("el-row",{staticClass:"pb10",attrs:{gutter:20}},[a("el-col",{staticClass:"pull-right",attrs:{span:4}},[a("el-input",{attrs:{disabled:!0},model:{value:e.samplesForm.STATEDesc,callback:function(t){e.$set(e.samplesForm,"STATEDesc",t)},expression:"samplesForm.STATEDesc"}},[a("template",{slot:"prepend"},[e._v("状态")])],2)],1),e._v(" "),a("el-col",{staticClass:"pull-right",attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请选择",disabled:e.edit},model:{value:e.samplesForm.ITEM_STEP,callback:function(t){e.$set(e.samplesForm,"ITEM_STEP",t)},expression:"samplesForm.ITEM_STEP"}},[a("template",{slot:"prepend"},[e._v("样品序号")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search",disabled:e.noedit},on:{click:e.addsamplenum},slot:"append"})],2)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样品编号",prop:"ITEMNUM"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.ITEMNUM,callback:function(t){e.$set(e.samplesForm,"ITEMNUM",t)},expression:"samplesForm.ITEMNUM"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",disabled:e.noedit},on:{click:e.getsample},slot:"append"})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数量",prop:"QUALITY"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,step:5,max:1e4,label:"描述文字",disabled:e.noedit},model:{value:e.samplesForm.QUALITY,callback:function(t){e.$set(e.samplesForm,"QUALITY",t)},expression:"samplesForm.QUALITY"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"收回入库时间",prop:"ACCEPT_DATE"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.ACCEPT_DATE,callback:function(t){e.$set(e.samplesForm,"ACCEPT_DATE",t)},expression:"samplesForm.ACCEPT_DATE"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样品承接人",prop:"ACCEPT_PERSON"}},[a("el-input",{attrs:{disabled:e.noedit},model:{value:e.samplesForm.ACCEPT_PERSON,callback:function(t){e.$set(e.samplesForm,"ACCEPT_PERSON",t)},expression:"samplesForm.ACCEPT_PERSON"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"处理批准人",prop:"APPR_PERSON"}},[a("el-input",{attrs:{disabled:e.noedit},model:{value:e.samplesForm.APPR_PERSON,callback:function(t){e.$set(e.samplesForm,"APPR_PERSON",t)},expression:"samplesForm.APPR_PERSON"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"批准日期",prop:"APPR_DATE"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择批准日期","value-format":"yyyy-MM-dd",disabled:e.noedit},model:{value:e.samplesForm.APPR_DATE,callback:function(t){e.$set(e.samplesForm,"APPR_DATE",t)},expression:"samplesForm.APPR_DATE"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"处理人",prop:"DO_PERSON"}},[a("el-input",{attrs:{disabled:e.noedit},model:{value:e.samplesForm.DO_PERSON,callback:function(t){e.$set(e.samplesForm,"DO_PERSON",t)},expression:"samplesForm.DO_PERSON"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"处理日期",prop:"DO_DATE"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择处理日期","value-format":"yyyy-MM-dd",disabled:e.noedit},model:{value:e.samplesForm.DO_DATE,callback:function(t){e.$set(e.samplesForm,"DO_DATE",t)},expression:"samplesForm.DO_DATE"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"MEMO"}},[a("el-input",{attrs:{type:"textarea",rows:"5",disabled:e.noedit},model:{value:e.samplesForm.MEMO,callback:function(t){e.$set(e.samplesForm,"MEMO",t)},expression:"samplesForm.MEMO"}})],1)],1)],1)],1),e._v(" "),a("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.views,expression:"views"}],attrs:{title:"其他",name:"2"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"录入人",prop:"ENTERBYDesc","label-width":"110px"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.ENTERBYDesc,callback:function(t){e.$set(e.samplesForm,"ENTERBYDesc",t)},expression:"samplesForm.ENTERBYDesc"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"录入时间",prop:"ENTERDATE","label-width":"110px"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.ENTERDATE,callback:function(t){e.$set(e.samplesForm,"ENTERDATE",t)},expression:"samplesForm.ENTERDATE"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"录入人机构",prop:"DEPTIDDesc","label-width":"110px"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.DEPTIDDesc,callback:function(t){e.$set(e.samplesForm,"DEPTIDDesc",t)},expression:"samplesForm.DEPTIDDesc"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"修改人",prop:"CHANGEBYDesc"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.CHANGEBYDesc,callback:function(t){e.$set(e.samplesForm,"CHANGEBYDesc",t)},expression:"samplesForm.CHANGEBYDesc"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"修改日期"}},[a("el-input",{attrs:{disabled:e.edit},model:{value:e.samplesForm.CHANGEDATE,callback:function(t){e.$set(e.samplesForm,"CHANGEDATE",t)},expression:"samplesForm.CHANGEDATE"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.noviews,expression:"noviews"}],staticClass:"content-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAndUpdate("samplesForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.saveAndSubmit("samplesForm")}}},[e._v("保存并继续")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("取消")])],1)])],1)]),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tree",{ref:"tree",attrs:{data:e.resourceData,"show-checkbox":"","node-key":"id","default-checked-keys":e.resourceCheckedKey,props:e.resourceProps},on:{"check-change":e.handleCheckChange}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dailogconfirm()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,title:"样品编号",height:"300px",visible:e.dialogsample,width:"80%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogsample=t}}},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],staticStyle:{width:"100%"},attrs:{data:e.samplesList,"header-cell-style":e.rowClass,border:"",stripe:"",height:"400px","default-sort":{prop:"samplesList",order:"descending"}},on:{"selection-change":e.SelChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品编号",sortable:"",width:"200px",prop:"ITEMNUM"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品名称",sortable:"",width:"200px",prop:"DESCRIPTION"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品类别",sortable:"",width:"200px",prop:"TYPE"}}),e._v(" "),a("el-table-column",{attrs:{label:"委托单位",sortable:"",width:"200px",prop:"V_NAME"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产单位",sortable:"",width:"200px",prop:"P_NAME"}}),e._v(" "),a("el-table-column",{attrs:{label:"型号",width:"100px",prop:"MODEL",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",width:"100px",prop:"QUATITY",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"收样人",sortable:"",width:"140px",prop:"ACCEPT_PERSON"}}),e._v(" "),a("el-table-column",{attrs:{label:"收样日期",sortable:"",width:"140px",formatter:e.dateFormat,prop:"ACCEPT_DATE"}}),e._v(" "),a("el-table-column",{attrs:{label:"接样人",sortable:"",width:"140px",prop:"RECIP_PERSON"}}),e._v(" "),a("el-table-column",{attrs:{label:"接样日期",sortable:"",width:"140px",formatter:e.dateFormat,prop:"RECIP_DATE"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品状态",sortable:"",width:"100px",prop:"STATEDesc"}})],1),e._v(" "),a("el-pagination",{staticClass:"pull-right pt10",attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[10,20,30,40,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogsample=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addsamplebtn}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,title:"样品序号",height:"300px",visible:e.dialogsamplenum,width:"80%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogsamplenum=t}}},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],staticStyle:{width:"100%"},attrs:{data:e.samplenumList,"header-cell-style":e.rowClass,border:"",stripe:"",height:"400px","default-sort":{prop:"samplesList",order:"descending"}},on:{"selection-change":e.SelChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品编号",sortable:"",width:"200px",prop:"ITEMNUM"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品序号",sortable:"",width:"200px",prop:"ITEM_STEP"}}),e._v(" "),a("el-table-column",{attrs:{label:"单件码",sortable:"",width:"200px",prop:"SN"}}),e._v(" "),a("el-table-column",{attrs:{label:"样品状态",sortable:"",width:"200px",prop:"STATEDesc"}}),e._v(" "),a("el-table-column",{attrs:{label:"录入时间",sortable:"",width:"140px",formatter:e.dateFormat,prop:"ENTERDATE"}}),e._v(" "),a("el-table-column",{attrs:{label:"修改时间",sortable:"",width:"100px",prop:"CHANGEDATE"}})],1),e._v(" "),a("el-pagination",{staticClass:"pull-right pt10",attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[10,20,30,40,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogsamplenum=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addsamplenumbtn}},[e._v("确 定")])],1)],1)],1):e._e()])},staticRenderFns:[]};var i=function(e){a("vmy/")},o=a("VU/8")(s.a,l,!1,i,"data-v-abfbf500",null);t.a=o.exports}});
//# sourceMappingURL=15.4a09ccaa4ecb2df709c0.js.map