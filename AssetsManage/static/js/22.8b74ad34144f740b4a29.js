webpackJsonp([22],{EsIK:function(t,e){},LNTg:function(t,e,a){"use strict";(function(t){var s=a("bOdI"),i=a.n(s),o=a("QmSG");e.a={name:"masks",props:["detailData"],data:function(){var t;return t={sampleDialog:!1,rules:{ASSETNUM:[{required:!0,trigger:"blur",validator:this.Validators.isChoosedata}]},basicInfo:[{label:"设备编号",prop:"ASSETNUM",width:"30%",type:"select",option:[],displayType:"inline-block"},{label:"设备名称",prop:"DESCRIPTION",width:"30%",type:"input",displayType:"inline-block"},{label:"规格型号",prop:"MODEL",width:"30%",type:"input",displayType:"inline-block"},{label:"保管人",prop:"KEEPER",width:"30%",type:"input",displayType:"inline-block"}],otherInfo:[{label:"录入人",prop:"ENTERBYDesc",width:"30%",type:"input",displayType:"inline-block"},{label:"机构",prop:"DEPTIDDesc",width:"30%",type:"input",displayType:"inline-block"},{label:"录入日期",prop:"ENTERDATE",width:"30%",type:"date",displayType:"inline-block"},{label:"修改人",prop:"CHANGEBYDesc",width:"30%",type:"input",displayType:"inline-block"},{label:"修改时间",prop:"CHANGEDATE",width:"30%",type:"date",displayType:"inline-block"}],basic_url:o.a.dev_url,show:!1,isok1:!0,isok2:!1,down:!0,up:!1,activeNames:["1","2","3","4"],dialogVisible:!1,modify:!1,resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"simplename"},selectData:[],getCheckboxData:{},dataInfo:{ID:"",ASSETNUM:"",DESCRIPTION:"",MODEL:"",STATE:"",KEEPER:"",tableList:[],maintenList:[]},page:{currentPage:1,pageSize:10,totalCount:0},sampleList:[],selSample:[],selRow:{},searchList:{DESCRIPTION:""},activeName:"first",addtitle:!0,modifytitle:!1,viewtitle:!1,dept:!1,noedit:!1,views:!1,noviews:!0},i()(t,"modify",!1),i()(t,"hintshow",!1),i()(t,"statusshow1",!0),i()(t,"statusshow2",!1),t},methods:{rowClass:function(t){t.row,t.rowIndex;return"text-align:center"},handleClick:function(t,e){},searchSam:function(){this.page.currentPage=1,this.page.pageSize=10,this.getSamples()},sizeChange:function(t){this.page.pageSize=t,this.getSamples()},currentChange:function(t){this.page.currentPage=t,this.getSamples()},selNum:function(t){this.selSample=t},addSample:function(){0==this.selSample.length?this.$message({message:"请选择样本编号",type:"error"}):this.selSample.length>1?this.$message({message:"不可同时选择多条数据",type:"error"}):(this.selRow.S_NUM=this.selSample[0].ITEMNUM,this.resetSample())},resetSample:function(){this.sampleDialog=!1,this.page={currentPage:1,pageSize:10,totalCount:0},this.searchList.DESCRIPTION=""},changeNum:function(t){this.selRow=t,this.getSamples()},getSamples:function(){var t=this,e={page:this.page.currentPage,limit:this.page.pageSize,DESCRIPTION:this.searchList.DESCRIPTION},a=this.basic_url+"/api-apps/app/item";this.$axios.get(a,{params:e}).then(function(e){t.sampleList=e.data.data,t.page.totalCount=e.data.count,t.sampleDialog=!0}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})},getUser:function(){var t=this,e=this.basic_url+"/api-user/users/currentMap";this.$axios.get(e,{}).then(function(e){t.dataInfo.DEPTID=e.data.deptId,t.dataInfo.ENTERBY=e.data.id,t.dataInfo.ENTERDATE=t.getToday()}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})},getModiuser:function(){var t=this,e=this.basic_url+"/api-user/users/currentMap";this.$axios.get(e,{}).then(function(e){t.dataInfo.DEPTID=e.data.deptId,t.dataInfo.CHANGEBY=e.data.id,t.dataInfo.CHANGEDATE=t.getToday()}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})},getToday:function(){var t=new Date,e=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate();return this.$moment(e).format("yyyy-MM-dd")},changeEdit:function(t){t.isEditing=!t.isEditing},addLine:function(t){"tableList"==t?this.dataInfo.tableList.push({ID:"",ASSETNUM:this.dataInfo.ASSETNUM,USEDATE:"",S_NUM:"",USE_START:"",USE_END:"",ASSETOPRATION:"",USE_PERSON:"",MEMO:"",isEditing:!0}):this.dataInfo[t].push({ID:"",ASSETNUM:this.dataInfo.ASSETNUM,PROJECT:"",W_DATE:"",W_PERSON:"",isEditing:!0})},delLine:function(t,e,a){var s=this,i="";if(i="tableList"==a?"ASSET_USE":"ASSET_MAINTENANCE",e.ID){var o=this.basic_url+"/api-apps/app/asset/"+i+"/"+e.ID;this.$axios.delete(o,{}).then(function(e){0==e.data.resp_code?s.dataInfo[a].splice(t,1):s.$message({message:e.data.resp_msg,type:"error"})}).catch(function(t){s.$message({message:"网络错误，请重试",type:"error"})})}else this.dataInfo[a].splice(t,1)},selChange:function(t){var e=this.basicInfo[0].option.filter(function(e){if(e.ID==t)return e});this.dataInfo=e[0],this.dataInfo.tableList=[],this.dataInfo.maintenList=[]},visible:function(){this.addtitle=!0,this.modifytitle=!1,this.viewtitle=!1,this.dept=!1,this.noedit=!1,this.views=!1,this.noviews=!0,this.modify=!1,this.hintshow=!1,this.statusshow1=!0,this.statusshow2=!1,this.show=!0,this.getUser()},detail:function(){var t=this,e=this.detailData.ID,a=this.basic_url+"/api-apps/app/asset/"+e;this.$axios.get(a,{}).then(function(e){t.modify=!0,t.show=!0,t.dataInfo=e.data,t.dataInfo.tableList=t.dataInfo.ASSET_USEList,t.dataInfo.maintenList=t.dataInfo.ASSET_MAINTENANCEList}).catch(function(t){}),this.getModiuser(),this.addtitle=!1,this.modifytitle=!0,this.viewtitle=!1,this.dept=!0,this.noedit=!1,this.views=!1,this.noviews=!0,this.modify=!0,this.hintshow=!1,this.statusshow1=!0,this.statusshow2=!1,this.show=!0},view:function(t){var e=this,a=this.basic_url+"/api-apps/app/asset/"+t;this.$axios.get(a,{}).then(function(t){e.dataInfo=t.data,e.dataInfo.tableList=e.dataInfo.ASSET_USEList,e.dataInfo.maintenList=e.dataInfo.ASSET_MAINTENANCEList}).catch(function(t){}),this.addtitle=!1,this.modifytitle=!1,this.viewtitle=!0,this.dept=!1,this.modify=!0,this.noedit=!0,this.views=!0,this.noviews=!1,this.show=!0},close:function(){this.resetForm(),this.$emit("request"),this.show=!1},resetForm:function(){this.dataInfo={tableList:[],maintenList:[]}},toggle:function(t){this.isok1?this.maxDialog():this.rebackDialog()},maxDialog:function(e){this.isok1=!1,this.isok2=!0,t(".mask_div").width(document.body.clientWidth),t(".mask_div").height(document.body.clientHeight-60),t(".mask_div").css("top","60px")},rebackDialog:function(){this.isok1=!0,this.isok2=!1,t(".mask_div").css("width","80%"),t(".mask_div").css("height","80%"),t(".mask_div").css("top","100px")},save:function(t){var e=this,a=this,s=this.basic_url+"/api-apps/app/asset/saveOrUpdate";this.$refs.dataInfo.validate(function(t){t?0==e.dataInfo.tableList.length||0==e.dataInfo.maintenList.length?e.$message({message:"表格信息为必填内容",type:"warning"}):(e.dataInfo.ASSET_USEList=e.dataInfo.tableList,e.dataInfo.ASSET_MAINTENANCEList=e.dataInfo.maintenList,e.$axios.post(s,a.dataInfo).then(function(t){0==t.data.resp_code&&(e.$message({message:"保存成功",type:"success"}),e.$emit("request"),e.resetForm())}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})}),e.falg=!0):(e.show=!0,e.$message({message:"未填写完整，请填写",type:"warning"}),e.falg=!1)})},saveAndUpdate:function(t){this.save(t),this.falg&&(this.show=!1)},saveAndSubmit:function(t){this.save(t),this.show=!0}},mounted:function(){var t=this,e=this.basic_url+"/api-apps/app/asset";this.$axios.get(e,{params:{}}).then(function(e){t.basicInfo[0].option=e.data.data}).catch(function(t){})}}}).call(e,a("7t+N"))},Q1T3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("ruNS"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerbg"},[a("vheader"),t._v(" "),a("navs_header",{ref:"navsheader"})],1),t._v(" "),a("div",{staticClass:"contentbg"},[a("navs_left",{ref:"navleft",on:{childByValue:t.childByValue}}),t._v(" "),a("div",{staticClass:"wrapper wrapper-content"},[a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"fixed-table-toolbar clearfix"},[a("div",{staticClass:"bs-bars pull-left"},[a("div",{staticClass:"hidden-xs",attrs:{id:"roleTableToolbar",role:"group"}},[a("button",{staticClass:"btn btn-green",attrs:{type:"button",id:""},on:{click:t.openAddMgr}},[a("i",{staticClass:"icon-add"}),t._v("添加\r\n\t              \t\t\t ")]),t._v(" "),a("button",{staticClass:"btn btn-blue button-margin",attrs:{type:"button"},on:{click:t.modify}},[a("i",{staticClass:"icon-edit"}),t._v("修改\r\n\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:t.importData}},[a("i",{staticClass:"icon-upload-cloud"}),t._v("导入\r\n\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:t.exportData}},[a("i",{staticClass:"icon-download-cloud"}),t._v("导出\r\n\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:t.reportdata}},[a("i",{staticClass:"icon-clipboard"}),t._v("报表\r\n\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:t.Printing}},[a("i",{staticClass:"icon-print"}),t._v("打印\r\n\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:t.modestsearch}},[a("i",{staticClass:"icon-search"}),t._v("高级查询\r\n\t\t\t\t\t    \t\t"),a("i",{directives:[{name:"show",rawName:"v-show",value:t.down,expression:"down"}],staticClass:"icon-arrow1-down"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.up,expression:"up"}],staticClass:"icon-arrow1-up"})])])]),t._v(" "),a("div",{staticClass:"columns columns-right btn-group pull-right"},[t._m(0),t._v(" "),a("tableControle",{ref:"tableControle",attrs:{tableHeader:t.tableHeader,checkedName:t.checkedName},on:{tableControle:t.tableControle}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.search,expression:"search"}]},[a("el-form",{attrs:{model:t.searchList,"label-width":"70px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"设备编号",prop:"ASSETNUM"}},[a("el-input",{model:{value:t.searchList.ASSETNUM,callback:function(e){t.$set(t.searchList,"ASSETNUM",e)},expression:"searchList.ASSETNUM"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"设备名称",prop:"DESCRIPTION"}},[a("el-input",{model:{value:t.searchList.DESCRIPTION,callback:function(e){t.$set(t.searchList,"DESCRIPTION",e)},expression:"searchList.DESCRIPTION"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规格型号",prop:"MODEL"}},[a("el-input",{model:{value:t.searchList.MODEL,callback:function(e){t.$set(t.searchList,"MODEL",e)},expression:"searchList.MODEL"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{"margin-top":"2px"},attrs:{type:"primary",size:"small"},on:{click:t.searchinfo}},[t._v("搜索")]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"2px","margin-left":"2px"},attrs:{type:"primary",size:"small"},on:{click:t.resetbtn}},[t._v("重置")])],1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"header-cell-style":t.rowClass,data:t.userList,border:"",stripe:"",height:t.fullHeight,"default-sort":{prop:"userList",order:"descending"},"element-loading-text":"加载中…","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.9)"},on:{"selection-change":t.SelChange}},[this.checkedName.length>0?a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"",align:"center"}}):t._e(),t._v(" "),-1!=this.checkedName.indexOf("设备编号")?a("el-table-column",{attrs:{label:"设备编号",width:"200",sortable:"",prop:"ASSETNUM"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"blue",attrs:{title:"点击查看详情"},on:{click:function(a){t.view(e.row.ID)}}},[t._v(t._s(e.row.ASSETNUM)+"\r\n\t\t\t\t\t\t\t\t\t")])]}}])}):t._e(),t._v(" "),-1!=this.checkedName.indexOf("设备名称")?a("el-table-column",{attrs:{label:"设备名称",width:"200",sortable:"",prop:"DESCRIPTION"}}):t._e(),t._v(" "),-1!=this.checkedName.indexOf("规格型号")?a("el-table-column",{attrs:{label:"规格型号",width:"300",sortable:"",prop:"MODEL"}}):t._e(),t._v(" "),-1!=this.checkedName.indexOf("保管人")?a("el-table-column",{attrs:{label:"保管人",sortable:"",prop:"KEEPER"}}):t._e()],1),t._v(" "),this.checkedName.length>0?a("el-pagination",{staticClass:"pull-right pt10",attrs:{background:"","current-page":t.page.currentPage,"page-sizes":[10,20,30,40],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}):t._e()],1)],1)],1)]),t._v(" "),a("detailPage",{ref:"child",attrs:{detailData:t.selUser[0]},on:{request:t.requestData}}),t._v(" "),a("reportmask",{ref:"reportChild",attrs:{reportData:t.reportData}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn btn-default btn-refresh",attrs:{id:"refresh",title:"刷新"}},[e("i",{staticClass:"icon-refresh"})])}]};var o=function(t){a("EsIK")},n=a("VU/8")(s.a,i,!1,o,"data-v-3eaa3d00",null);e.default=n.exports},QOLN:function(t,e){},ruNS:function(t,e,a){"use strict";(function(t){var s=a("bOdI"),i=a.n(s),o=a("QmSG"),n=a("GkRW"),l=a("hbvp"),r=a("h7vj"),c=a("VEhc"),d=a("vCvx"),p=a("jk2w");e.a=i()({name:"user_management",components:{vheader:n.a,navs_left:l.a,navs_header:r.a,tableControle:c.a,detailPage:d.a,reportmask:p.a},data:function(){return{reportData:{},loading:!1,basic_url:o.a.dev_url,dataUrl:"/api/api-user/users",searchData:{page:1,limit:20},checkedName:["设备编号","设备名称","规格型号","保管人"],tableHeader:[{label:"设备编号",prop:"ASSETNUM"},{label:"设备名称",prop:"DESCRIPTION"},{label:"规格型号",prop:"MODEL"},{label:"保管人",prop:"KEEPER"}],selUser:[],userList:[],search:!1,show:!1,down:!0,up:!1,isShow:!1,ismin:!0,fullHeight:document.documentElement.clientHeight-210+"px",searchList:{ASSETNUM:"",DESCRIPTION:"",MODEL:""},resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"simplename"},userData:[],page:{currentPage:1,pageSize:20,totalCount:0},aaaData:[]}},methods:{rowClass:function(t){t.row,t.rowIndex;return"text-align:center"},tableControle:function(t){this.checkedName=t},sizeChange:function(t){this.page.pageSize=t,this.requestData()},currentChange:function(t){this.page.currentPage=t,this.requestData()},searchinfo:function(t){this.page.currentPage=1,this.page.pageSize=20,this.requestData()},resetbtn:function(){this.searchList={ASSETNUM:"",DESCRIPTION:"",MODEL:""},this.requestData()},openAddMgr:function(){this.$refs.child.visible()},modify:function(){this.aaaData=this.selUser,0!=this.aaaData.length?this.aaaData.length>1?this.$message({message:"不可同时修改多个数据",type:"warning"}):this.$refs.child.detail():this.$message({message:"请您选择要修改的数据",type:"warning"})},view:function(t){this.$refs.child.view(t)},modestsearch:function(){this.search=!this.search,this.down=!this.down,this.up=!this.up},deluserinfo:function(){var t=this,e=this.selUser;if(0!=e.length){for(var a=this.basic_url+"/api-apps/app/asset/deletes",s=e,i=[],o=0;o<s.length;o++)i.push(s[o].ID);var n={ids:i.toString(",")};this.$confirm("确定删除此数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){e.value;t.$axios.delete(a,{params:n}).then(function(e){0==e.data.resp_code&&(t.$message({message:"删除成功",type:"success"}),t.requestData())}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})}).catch(function(){})}else this.$message({message:"请您选择要删除的数据",type:"warning"})},importData:function(){},exportData:function(){},Printing:function(){},reportdata:function(){this.reportData.app=this.productType,this.$refs.reportChild.visible()},judge:function(t){return t.enabled?"启用":"冻结"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":this.$moment(a).format("YYYY-MM-DD")},SelChange:function(t){this.selUser=t},requestData:function(t){var e=this;this.loading=!0;var a={page:this.page.currentPage,limit:this.page.pageSize,ASSETNUM:this.searchList.ASSETNUM,DESCRIPTION:this.searchList.DESCRIPTION,MODEL:this.searchList.MODEL},s=this.basic_url+"/api-apps/app/asset";this.$axios.get(s,{params:a}).then(function(t){e.page.totalCount=t.data.count;var a=Math.ceil(e.page.totalCount/e.page.pageSize);e.page.currentPage>=a?e.loadSign=!1:e.loadSign=!0,e.userList=t.data.data,e.loading=!1}).catch(function(t){})},loadMore:function(){var t=this,e=sessionStorage.getItem("up2down");if(this.loadSign){if("down"==e){if(this.page.currentPage++,this.page.currentPage>Math.ceil(this.page.totalCount/this.page.pageSize))return this.page.currentPage=Math.ceil(this.page.totalCount/this.page.pageSize),!1}else if(this.page.currentPage--,this.page.currentPage<1)return this.page.currentPage=1,!1;this.loadSign=!1,setTimeout(function(){t.loadSign=!0},1e3),this.requestData()}},handleNodeClick:function(t){},formatter:function(t,e){return t.enabled},childByValue:function(t){console.log(t),this.$refs.navsheader.showClick(t)}},mounted:function(){var e=this;t(".div-table").scroll(function(){e.loadMore()})}},"mounted",function(){this.requestData()})}).call(e,a("7t+N"))},vCvx:function(t,e,a){"use strict";var s=a("LNTg"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{staticClass:"mask"}):t._e(),t._v(" "),t.show?a("div",{staticClass:"mask_divbg"},[a("div",{staticClass:"mask_div"},[a("div",{staticClass:"mask_title_div clearfix"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.addtitle,expression:"addtitle"}],staticClass:"mask_title"},[t._v("添加使用/维护保养记录")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modifytitle,expression:"modifytitle"}],staticClass:"mask_title"},[t._v("修改使用/维护保养记录")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewtitle,expression:"viewtitle"}],staticClass:"mask_title"},[t._v("查看使用/维护保养记录")]),t._v(" "),a("div",{staticClass:"mask_anniu"},[a("span",{staticClass:"mask_span mask_max",on:{click:t.toggle}},[a("i",{class:{"icon-maximization":t.isok1,"icon-restore":t.isok2}})]),t._v(" "),a("span",{staticClass:"mask_span",on:{click:t.close}},[a("i",{staticClass:"icon-close1"})])])]),t._v(" "),a("div",{staticClass:"mask_content"},[a("el-form",{ref:"dataInfo",staticClass:"demo-user",attrs:{model:t.dataInfo,rules:t.rules}},[a("div",{staticClass:"accordion"},[a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},t._l(t.basicInfo,function(e){return a("el-form-item",{key:e.id,style:{width:e.width,display:e.displayType},attrs:{"label-width":"120px",label:e.label,prop:e.prop}},["select"==e.type?a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:t.noedit},on:{change:t.selChange},model:{value:t.dataInfo[e.prop],callback:function(a){t.$set(t.dataInfo,e.prop,a)},expression:"dataInfo[item.prop]"}},t._l(e.option,function(t){return a("el-option",{key:t.ID,attrs:{label:t.ASSETNUM,value:t.ID}})})):t._e(),t._v(" "),"input"==e.type?a("el-input",{attrs:{type:e.type,disabled:""},model:{value:t.dataInfo[e.prop],callback:function(a){t.$set(t.dataInfo,e.prop,a)},expression:"dataInfo[item.prop]"}}):t._e()],1)})),t._v(" "),a("div",{staticClass:"el-collapse-item pt10 pr20 pb20 ml60",attrs:{"aria-expanded":"true",accordion:""}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"设备使用记录信息",name:"first"}},[a("div",{staticClass:"table-func table-funcb"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.viewtitle,expression:"!viewtitle"}],attrs:{type:"success",size:"mini",round:""},on:{click:function(e){t.addLine("tableList")}}},[a("i",{staticClass:"icon-add"}),t._v(" "),a("font",[t._v("新建行")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":t.rowClass,data:t.dataInfo.tableList,"row-key":"ID",border:"",stripe:"","max-height":"260","highlight-current-row":"highlight-current-row","default-sort":{prop:"dataInfo.pmRecord",order:"descending"}}},[a("el-table-column",{attrs:{prop:"iconOperation",fixed:"",label:"",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEditing?a("i",{staticClass:"el-icon-check",on:{click:function(a){t.changeEdit(e.row)}}}):a("i",{staticClass:"el-icon-edit",on:{click:function(a){t.changeEdit(e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{type:"index",sortable:"",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"USEDATE",label:"使用日期",sortable:"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".USEDATE",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.row.USEDATE,callback:function(a){t.$set(e.row,"USEDATE",a)},expression:"scope.row.USEDATE"}}):a("span",[t._v(t._s(e.row.USEDATE))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"S_NUM",label:"样品编号",sortable:"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".S_NUM",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-input",{attrs:{size:"small",placeholder:"请输入样品编号"},model:{value:e.row.S_NUM,callback:function(a){t.$set(e.row,"S_NUM",a)},expression:"scope.row.S_NUM"}},[a("el-button",{attrs:{slot:"append",icon:"icon-search"},on:{click:function(a){t.changeNum(e.row)}},slot:"append"})],1):a("span",[t._v(t._s(e.row.S_NUM))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"USE_START",label:"使用起始时间",sortable:"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".USE_START",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.row.USE_START,callback:function(a){t.$set(e.row,"USE_START",a)},expression:"scope.row.USE_START"}}):a("span",[t._v(t._s(e.row.USE_START))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"USE_END",label:"使用终止时间",sortable:"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".USE_END",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.row.USE_END,callback:function(a){t.$set(e.row,"USE_END",a)},expression:"scope.row.USE_END"}}):a("span",[t._v(t._s(e.row.USE_END))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ASSETOPRATION",label:"设备运行情况",sortable:"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".ASSETOPRATION",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-input",{attrs:{size:"small",placeholder:"请输入设备运行情况"},model:{value:e.row.ASSETOPRATION,callback:function(a){t.$set(e.row,"ASSETOPRATION",a)},expression:"scope.row.ASSETOPRATION"}}):a("span",[t._v(t._s(e.row.ASSETOPRATION))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"USE_PERSON",label:"使用人",sortable:"",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".USE_PERSON",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-input",{attrs:{size:"small",placeholder:"请输入使用人"},model:{value:e.row.USE_PERSON,callback:function(a){t.$set(e.row,"USE_PERSON",a)},expression:"scope.row.USE_PERSON"}}):a("span",[t._v(t._s(e.row.USE_PERSON))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"MEMO",label:"备注",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"tableList."+e.$index+".MEMO",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-input",{attrs:{size:"small",placeholder:"请输入备注"},model:{value:e.row.MEMO,callback:function(a){t.$set(e.row,"MEMO",a)},expression:"scope.row.MEMO"}}):a("span",[t._v(t._s(e.row.MEMO))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",sortable:"",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini",round:"",disabled:t.noedit},on:{click:function(a){t.delLine(e.$index,e.row,"tableList")}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"设备维护保养记录信息",name:"second"}},[a("div",{staticClass:"table-func table-funcb"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.viewtitle,expression:"!viewtitle"}],attrs:{type:"success",size:"mini",round:""},on:{click:function(e){t.addLine("maintenList")}}},[a("i",{staticClass:"icon-add"}),t._v(" "),a("font",[t._v("新建行")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":t.rowClass,data:t.dataInfo.maintenList,"row-key":"ID",border:"",stripe:"","max-height":"260","highlight-current-row":"highlight-current-row","default-sort":{prop:"dataInfo.pmRecord",order:"descending"}}},[a("el-table-column",{attrs:{prop:"iconOperation",fixed:"",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEditing?a("i",{staticClass:"el-icon-check",on:{click:function(a){t.changeEdit(e.row)}}}):a("i",{staticClass:"el-icon-edit",on:{click:function(a){t.changeEdit(e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{type:"index",sortable:"",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"PROJECT",label:"维护项目",sortable:"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"maintenList."+e.$index+".PROJECT",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-input",{attrs:{size:"small",placeholder:"请输入维护项目"},model:{value:e.row.PROJECT,callback:function(a){t.$set(e.row,"PROJECT",a)},expression:"scope.row.PROJECT"}}):a("span",[t._v(t._s(e.row.PROJECT))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"W_DATE",label:"维护时间",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"maintenList."+e.$index+".W_DATE",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.row.W_DATE,callback:function(a){t.$set(e.row,"W_DATE",a)},expression:"scope.row.W_DATE"}}):a("span",[t._v(t._s(e.row.W_DATE))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"W_PERSON",label:"维护人",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"maintenList."+e.$index+".W_PERSON",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[e.row.isEditing?a("el-input",{attrs:{size:"small",placeholder:"请输入维护人"},model:{value:e.row.W_PERSON,callback:function(a){t.$set(e.row,"W_PERSON",a)},expression:"scope.row.W_PERSON"}}):a("span",[t._v(t._s(e.row.W_PERSON))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",sortable:"",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini",round:"",disabled:t.noedit},on:{click:function(a){t.delLine(e.$index,e.row,"maintenList")}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)],1)],1),t._v(" "),a("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:!t.addtitle,expression:"!addtitle"}],attrs:{title:"其他",name:"4"}},[t._l(t.otherInfo,function(e){return"DEPARTMENT"==e.prop?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.dept,expression:"dept"}],key:e.id,style:{width:e.width,display:e.displayType},attrs:{"label-width":"120px",label:e.label,prop:e.prop}},["DEPARTMENT"==e.prop?a("el-input",{attrs:{type:e.type,disabled:""},model:{value:t.dataInfo[e.prop],callback:function(a){t.$set(t.dataInfo,e.prop,a)},expression:"dataInfo[item.prop]"}}):t._e()],1):t._e()}),t._v(" "),t._l(t.otherInfo,function(e){return a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.views,expression:"views"}],key:e.id,style:{width:e.width,display:e.displayType},attrs:{"label-width":"120px",label:e.label,prop:e.prop}},["input"==e.type?a("el-input",{attrs:{type:e.type,disabled:""},model:{value:t.dataInfo[e.prop],callback:function(a){t.$set(t.dataInfo,e.prop,a)},expression:"dataInfo[item.prop]"}}):t._e(),t._v(" "),"date"==e.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",disabled:""},model:{value:t.dataInfo[e.prop],callback:function(a){t.$set(t.dataInfo,e.prop,a)},expression:"dataInfo[item.prop]"}}):t._e()],1)})],2)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noviews,expression:"noviews"}],staticClass:"el-dialog__footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveAndUpdate("dataInfo")}}},[t._v("保存")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.addtitle,expression:"addtitle"}],attrs:{type:"success"},on:{click:function(e){t.saveAndSubmit("dataInfo")}}},[t._v("保存并继续")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("取消")])],1)])],1)]),t._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,title:"样品编号",visible:t.sampleDialog,width:"80%","before-close":t.resetSample},on:{"update:visible":function(e){t.sampleDialog=e}}},[a("div",{staticClass:"pb10"},[a("el-form",{attrs:{model:t.searchList,"label-width":"70px"}},[a("el-row",{staticClass:"pb10",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:t.searchList.DESCRIPTION,callback:function(e){t.$set(t.searchList,"DESCRIPTION",e)},expression:"searchList.DESCRIPTION"}},[a("template",{slot:"prepend"},[t._v("样品名称")])],2)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{margin:"4px"},attrs:{type:"primary",size:"small"},on:{click:t.searchSam}},[t._v("搜索")])],1)],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sampleList,border:"",stripe:"","default-sort":{prop:"sampleList",order:"descending"}},on:{"selection-change":t.selNum}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}),t._v(" "),a("el-table-column",{attrs:{label:"样品编号",sortable:"",prop:"ITEMNUM"}}),t._v(" "),a("el-table-column",{attrs:{label:"样品名称",sortable:"",prop:"DESCRIPTION"}})],1),t._v(" "),a("div",{staticClass:"el-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addSample}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:t.resetSample}},[t._v("取 消")])],1)],1)],1):t._e()])},staticRenderFns:[]};var o=function(t){a("QOLN")},n=a("VU/8")(s.a,i,!1,o,"data-v-672c7a38",null);e.a=n.exports}});
//# sourceMappingURL=22.8b74ad34144f740b4a29.js.map