webpackJsonp([28],{Q0CP:function(e,t){},Q5Rq:function(e,t,a){"use strict";var s=a("RjvS"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.show?a("div",{staticClass:"mask"}):e._e(),e._v(" "),e.show?a("div",{staticClass:"mask_divbg"},[a("div",{staticClass:"mask_div"},[a("div",{staticClass:"mask_title_div clearfix"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.modify,expression:"!modify"}],staticClass:"mask_title"},[e._v("添加关键字")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.modify,expression:"modify"}],staticClass:"mask_title"},[e._v("修改关键字")]),e._v(" "),a("div",{staticClass:"mask_anniu"},[a("span",{staticClass:"mask_span mask_max",on:{click:e.toggle}},[a("i",{class:{"icon-maximization":e.isok1,"icon-restore":e.isok2}})]),e._v(" "),a("span",{staticClass:"mask_span",on:{click:e.close}},[a("i",{staticClass:"icon-close1"})])])]),e._v(" "),a("div",{staticClass:"mask_content"},[a("el-form",{ref:"dataInfo",staticClass:"demo-user",attrs:{model:e.dataInfo,rules:e.rules,"label-width":"100px"}},[a("div",{staticClass:"accordion"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"关键字信息",name:"1"}},[a("el-row",{staticClass:"pb10",attrs:{gutter:20}},[a("el-col",{staticClass:"pull-right",attrs:{span:5}})],1),e._v(" "),e._l(e.basicInfo,function(t){return a("el-form-item",{style:{width:t.width,display:t.displayType},attrs:{label:t.label,prop:t.prop}},["input"==t.type?a("el-input",{attrs:{type:t.type},model:{value:e.dataInfo[t.prop],callback:function(a){e.$set(e.dataInfo,t.prop,a)},expression:"dataInfo[item.prop]"}}):e._e(),e._v(" "),"select"==t.type?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataInfo[t.prop],callback:function(a){e.$set(e.dataInfo,t.prop,a)},expression:"dataInfo[item.prop]"}},e._l(e.cats,function(e){return a("el-option",{key:e.id,attrs:{label:e.categoryname,value:e.id}})})):e._e()],1)})],2)],1)],1),e._v(" "),a("div",{staticClass:"el-dialog__footer"},[a("el-button",{on:{click:e.close}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")])],1)])],1)])]):e._e()])},staticRenderFns:[]};var n=function(e){a("X8vi")},o=a("VU/8")(s.a,i,!1,n,"data-v-6ed0a823",null);t.a=o.exports},RjvS:function(e,t,a){"use strict";(function(e){var s=a("QmSG");t.a={name:"masks",props:["detailData"],data:function(){return{rules:{keywordname:[{required:!0,message:"请输入关键字",trigger:"blur"}],categoryid:[{required:!0,message:"请选择关键字分类",trigger:"blur"}]},basicInfo:[{label:"关键字",prop:"keywordname",width:"30%",type:"input",displayType:"inline-block"},{label:"分类",prop:"categoryid",width:"50%",type:"select",displayType:"inline-block"}],basic_url:s.a.dev_url,show:!1,isok1:!0,isok2:!1,down:!0,up:!1,activeNames:["1","2","3","4"],dialogVisible:!1,modify:!1,resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"simplename"},selectData:[],getCheckboxData:{},dataInfo:{keywordid:"",categoryid:"",keywordname:"",userid:"",username:"",createtime:"",deptid:"",deptfullname:""},cats:[]}},methods:{getUser:function(e){var t=this,a=this.basic_url+"/api-user/users/currentMap";this.$axios.get(a,{}).then(function(a){"new"==e?(t.dataInfo.userid=a.data.id,t.dataInfo.username=a.data.username,t.dataInfo.createtime=t.getToday(),t.dataInfo.deptid=a.data.deptId,t.dataInfo.deptfullname=a.data.deptName):(t.dataInfo.userid=a.data.id,t.dataInfo.username=a.data.username,t.dataInfo.deptid=a.data.deptId,t.dataInfo.deptfullname=a.data.deptName)}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})},getToday:function(){var e=new Date,t=e.getMonth();return t++,e.getFullYear()+"-"+t+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},visible:function(){this.getUser("new"),this.modify=!1,this.show=!0,this.getCat()},detail:function(e){this.getUser(),this.dataInfo=this.detailData,this.modify=!0,this.show=!0,this.getCat()},close:function(){this.resetForm(),this.$emit("request")},resetForm:function(){this.dataInfo={keywordid:"",categoryid:"",keywordname:"",userid:"",username:"",createtime:"",deptid:"",deptfullname:""},this.show=!1},toggle:function(e){this.isok1?this.maxDialog():this.rebackDialog()},maxDialog:function(t){this.isok1=!1,this.isok2=!0,e(".mask_div").width(document.body.clientWidth),e(".mask_div").height(document.body.clientHeight-60),e(".mask_div").css("top","60px")},rebackDialog:function(){this.isok1=!0,this.isok2=!1,e(".mask_div").css("width","80%"),e(".mask_div").css("height","80%"),e(".mask_div").css("top","100px")},submitForm:function(){var e=this,t=this,a=this.basic_url+"/api-apps/app/tbKeyword2/saveOrUpdate";this.$refs.dataInfo.validate(function(s){if(!s)return console.log("error submit!!"),!1;e.modify||(e.dataInfo.createtime=e.getToday()),e.$axios.post(a,t.dataInfo).then(function(t){0==t.data.resp_code?(e.$message({message:"保存成功",type:"success"}),e.resetForm(),e.$emit("request")):e.$message({message:t.data.resp_msg,type:"error"})}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})})},getCat:function(){var e=this,t={page:1,limit:1e3,categoryname:"",username:this.dataInfo.username},a=this.basic_url+"/api-apps/app/tbCategory2";this.$axios.get(a,{params:t}).then(function(t){e.cats=t.data.data}).catch(function(e){})}}}}).call(t,a("7t+N"))},Szuh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Y1SY"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"headerbg"},[a("vheader"),e._v(" "),a("navs_header",{ref:"navsheader"})],1),e._v(" "),a("div",{staticClass:"contentbg"},[a("navs_left",{ref:"navleft",on:{childByValue:e.childByValue}}),e._v(" "),a("div",{staticClass:"wrapper wrapper-content"},[a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"fixed-table-toolbar clearfix"},[a("div",{staticClass:"bs-bars pull-left"},[a("div",{staticClass:"hidden-xs",attrs:{id:"roleTableToolbar",role:"group"}},[a("button",{staticClass:"btn btn-green",attrs:{type:"button",id:""},on:{click:e.openAddMgr}},[a("i",{staticClass:"icon-add"}),e._v("添加\n                      \t\t\t ")]),e._v(" "),a("button",{staticClass:"btn btn-blue button-margin",attrs:{type:"button"},on:{click:e.modify}},[a("i",{staticClass:"icon-edit"}),e._v("修改\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-red button-margin",attrs:{type:"button"},on:{click:e.deluserinfo}},[a("i",{staticClass:"icon-trash"}),e._v("删除\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.modestsearch}},[a("i",{staticClass:"icon-search"}),e._v("高级查询\n\t\t\t\t\t\t    \t\t"),a("i",{directives:[{name:"show",rawName:"v-show",value:e.down,expression:"down"}],staticClass:"icon-arrow1-down"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.up,expression:"up"}],staticClass:"icon-arrow1-up"})])])]),e._v(" "),a("div",{staticClass:"columns columns-right btn-group pull-right"},[e._m(0),e._v(" "),a("tableControle",{ref:"tableControle",attrs:{tableHeader:e.tableHeader,checkedName:e.checkedName},on:{tableControle:e.tableControle}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"pb10"},[a("el-form",{attrs:{model:e.searchList,"label-width":"70px"}},[a("el-row",{staticClass:"pb5",attrs:{gutter:30}},[a("el-col",{attrs:{span:7}},[a("el-input",{model:{value:e.searchList.keywordname,callback:function(t){e.$set(e.searchList,"keywordname",t)},expression:"searchList.keywordname"}},[a("template",{slot:"prepend"},[e._v("关键字名称")])],2)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-input",{model:{value:e.searchList.categoryidDesc,callback:function(t){e.$set(e.searchList,"categoryidDesc",t)},expression:"searchList.categoryidDesc"}},[a("template",{slot:"prepend"},[e._v("关键字分类ID")])],2)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{margin:"4px"},attrs:{type:"primary",size:"small"},on:{click:e.searchinfo}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{staticClass:"leftcont v-resize"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.samplesList,border:"",stripe:"",height:e.fullHeight,"default-sort":{prop:"samplesList",order:"descending"},"element-loading-text":"加载中…","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.9)"},on:{"selection-change":e.SelChange}},[this.checkedName.length>0?a("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("关键字")?a("el-table-column",{attrs:{label:"关键字",sortable:"",prop:"keywordname"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("分类")?a("el-table-column",{attrs:{label:"分类",sortable:"",prop:"categoryidDesc"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("用户名称")?a("el-table-column",{attrs:{label:"用户名称",sortable:"",prop:"username"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("用户部门")?a("el-table-column",{attrs:{label:"用户部门",sortable:"",prop:"deptfullname"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("创建时间")?a("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"createtime"}}):e._e()],1),e._v(" "),this.checkedName.length>0?a("el-pagination",{staticClass:"text-right pt10",attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e()],1)],1)],1)])],1),e._v(" "),a("keywordmask",{ref:"child",attrs:{detailData:e.selMenu[0]},on:{request:e.requestData}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn btn-default btn-refresh",attrs:{id:"refresh",title:"刷新"}},[t("i",{staticClass:"icon-refresh"})])}]};var n=function(e){a("Q0CP")},o=a("VU/8")(s.a,i,!1,n,null,null);t.default=o.exports},X8vi:function(e,t){},Y1SY:function(e,t,a){"use strict";(function(e){var s=a("QmSG"),i=a("GkRW"),n=a("hbvp"),o=a("h7vj"),l=a("VEhc"),r=a("Q5Rq");t.a={name:"samples",components:{vheader:i.a,navs_header:o.a,navs_left:n.a,tableControle:l.a,keywordmask:r.a},data:function(){return{loading:!1,basic_url:s.a.dev_url,isShow:!1,ismin:!0,loadSign:!0,commentArr:{},checkedName:["关键字","分类","用户名称","用户部门","创建时间"],tableHeader:[{label:"关键字",prop:"keywordname"},{label:"分类",prop:"categoryidDesc"},{label:"用户名称",prop:"username"},{label:"用户部门",prop:"deptfullname"},{label:"创建时间",prop:"createtime"}],selMenu:[],samplesList:[],fullHeight:document.documentElement.clientHeight-210+"px",search:!1,show:!1,down:!0,up:!1,searchList:{keywordname:"",categoryidDesc:""},page:{currentPage:1,pageSize:10,totalCount:0},samplesForm:{},companyId:"",deptId:""}},methods:{tableControle:function(e){this.checkedName=e},sizeChange:function(e){this.page.pageSize=e,this.requestData()},currentChange:function(e){this.page.currentPage=e,this.requestData()},searchinfo:function(e){this.page.currentPage=1,this.page.pageSize=10,this.requestData()},openAddMgr:function(){this.$refs.child.visible()},modify:function(){0!=this.selMenu.length?this.selMenu.length>1?this.$message({message:"不可同时修改多条数据",type:"warning"}):this.$refs.child.detail():this.$message({message:"请您选择要修改的数据",type:"warning"})},modestsearch:function(){this.search=!this.search,this.down=!this.down,this.up=!this.up},deluserinfo:function(){var e=this,t=this.selMenu;if(0!=t.length){for(var a=this.basic_url+"/api-apps/app/tbKeyword2/deletes",s=t,i=[],n=0;n<s.length;n++)i.push(s[n].id);var o={ids:i.toString(",")};this.$confirm("确定删除此数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value;e.$axios.delete(a,{params:o}).then(function(t){0==t.data.resp_code?(e.$message({message:"删除成功",type:"success"}),e.requestData()):e.$message({message:t.data.resp_msg,type:"success"})}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}).catch(function(){})}else this.$message({message:"请您选择要删除的数据",type:"warning"})},SelChange:function(e){this.selMenu=e},requestData:function(e){var t=this;this.loading=!0;var a={page:this.page.currentPage,limit:this.page.pageSize,categoryidDesc:this.searchList.categoryidDesc},s=this.basic_url+"/api-apps/app/tbKeyword2";this.$axios.get(s,{params:a}).then(function(e){t.page.totalCount=e.data.count,t.samplesList=e.data.data,t.loading=!1}).catch(function(e){})},min3max:function(){e(".lefttree").hasClass("el-col-5")?(e(".lefttree").removeClass("el-col-5"),e(".lefttree").addClass("el-col-1"),e(".leftcont").removeClass("el-col-19"),e(".leftcont").addClass("el-col-23"),e(".icon-doubleok").removeClass("icon-double-angle-left"),e(".icon-doubleok").addClass("icon-double-angle-right")):(e(".lefttree").removeClass("el-col-1"),e(".lefttree").addClass("el-col-5"),e(".leftcont").removeClass("el-col-23"),e(".leftcont").addClass("el-col-19"),e(".icon-doubleok").removeClass("icon-double-angle-right"),e(".icon-doubleok").addClass("icon-double-angle-left")),this.ismin=!this.ismin},childByValue:function(e){this.$refs.navsheader.showClick(e)}},mounted:function(){this.requestData()}}}).call(t,a("7t+N"))}});
//# sourceMappingURL=28.0483929e4aeba8136bdb.js.map