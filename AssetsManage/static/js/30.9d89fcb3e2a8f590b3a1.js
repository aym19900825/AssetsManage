webpackJsonp([30],{QgH5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("ee60"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"headerbg"},[a("vheader"),e._v(" "),a("navs_header",{ref:"navsheader"})],1),e._v(" "),a("div",{staticClass:"contentbg"},[a("navs_left",{ref:"navleft",on:{childByValue:e.childByValue}}),e._v(" "),a("div",{staticClass:"wrapper wrapper-content"},[a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"fixed-table-toolbar clearfix"},[a("div",{staticClass:"bs-bars pull-left"},[a("div",{staticClass:"hidden-xs",attrs:{id:"roleTableToolbar",role:"group"}},[a("button",{staticClass:"btn btn-green",attrs:{type:"button",id:""},on:{click:e.openAddMgr}},[a("i",{staticClass:"icon-add"}),e._v("添加\n                      \t\t\t ")]),e._v(" "),a("button",{staticClass:"btn btn-blue button-margin",attrs:{type:"button"},on:{click:e.modify}},[a("i",{staticClass:"icon-edit"}),e._v("修改\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-red button-margin",attrs:{type:"button"},on:{click:e.deluserinfo}},[a("i",{staticClass:"icon-trash"}),e._v("删除\n\t\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-red button-margin",attrs:{type:"button"},on:{click:e.physicsDel}},[a("i",{staticClass:"icon-trash"}),e._v("物理删除\n\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.reportdata}},[a("i",{staticClass:"icon-clipboard"}),e._v("报表\n\t\t\t\t\t\t\t")]),e._v(" "),a("button",{staticClass:"btn btn-primarys button-margin",attrs:{type:"button"},on:{click:e.modestsearch}},[a("i",{staticClass:"icon-search"}),e._v("高级查询\n\t\t\t\t\t\t    \t\t"),a("i",{directives:[{name:"show",rawName:"v-show",value:e.down,expression:"down"}],staticClass:"icon-arrow1-down"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.up,expression:"up"}],staticClass:"icon-arrow1-up"})])])]),e._v(" "),a("div",{staticClass:"columns columns-right btn-group pull-right"},[e._m(0),e._v(" "),a("tableControle",{ref:"tableControle",attrs:{tableHeader:e.tableHeader,checkedName:e.checkedName},on:{tableControle:e.tableControle}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"pb10"},[a("el-form",{attrs:{model:e.searchList,"label-width":"70px"}},[a("el-row",{staticClass:"pb5",attrs:{gutter:30}},[a("el-col",{attrs:{span:7}},[a("el-input",{model:{value:e.searchList.username,callback:function(t){e.$set(e.searchList,"username",t)},expression:"searchList.username"}},[a("template",{slot:"prepend"},[e._v("姓名")])],2)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{margin:"4px"},attrs:{type:"primary",size:"small"},on:{click:e.searchinfo}},[e._v("搜索")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"2px","margin-left":"2px"},attrs:{type:"primary",size:"small"},on:{click:e.resetbtn}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"leftcont v-resize"},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.samplesList,border:"",stripe:"",height:e.fullHeight,"default-sort":{prop:"samplesList",order:"descending"},"element-loading-text":"加载中…","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.9)"},on:{"selection-change":e.SelChange}},[this.checkedName.length>0?a("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("姓名")?a("el-table-column",{attrs:{label:"姓名",sortable:"",width:"140px",prop:"username"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("关键字")?a("el-table-column",{attrs:{label:"关键字",sortable:"",prop:"keywordidDesc"}}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("查看")?a("el-table-column",{attrs:{label:"查看",sortable:"",prop:"fileread"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:1==e.row.fileread?"el-icon-check":""})]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("编辑")?a("el-table-column",{attrs:{label:"编辑",sortable:"",prop:"fileedit"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:1==e.row.fileedit?"el-icon-check":""})]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("删除")?a("el-table-column",{attrs:{label:"删除",sortable:"",prop:"filedelete"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:1==e.row.filedelete?"el-icon-check":""})]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("下载")?a("el-table-column",{attrs:{label:"下载",sortable:"",prop:"filedownload"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:1==e.row.filedownload?"el-icon-check":""})]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("打印")?a("el-table-column",{attrs:{label:"打印",sortable:"",prop:"fileprint"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:1==e.row.fileprint?"el-icon-check":""})]}}])}):e._e(),e._v(" "),-1!=this.checkedName.indexOf("复制")?a("el-table-column",{attrs:{label:"复制",sortable:"",prop:"fileduplicate"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:1==e.row.fileduplicate?"el-icon-check":""})]}}])}):e._e()],1),e._v(" "),this.checkedName.length>0?a("el-pagination",{staticClass:"text-right pt10",attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e()],1)],1)])],1),e._v(" "),a("authmask",{ref:"child",attrs:{detailData:e.selMenu[0]},on:{request:e.requestData}}),e._v(" "),a("reportmask",{ref:"reportChild",attrs:{reportData:e.reportData}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn btn-default btn-refresh",attrs:{id:"refresh",title:"刷新"}},[t("i",{staticClass:"icon-refresh"})])}]};var l=function(e){a("WL0s")},o=a("VU/8")(s.a,i,!1,l,null,null);t.default=o.exports},T9D9:function(e,t,a){"use strict";var s=a("c58p"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.show?a("div",{staticClass:"mask"}):e._e(),e._v(" "),e.show?a("div",{staticClass:"mask_divbg"},[a("div",{staticClass:"mask_div"},[a("div",{staticClass:"mask_title_div clearfix"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.modify,expression:"!modify"}],staticClass:"mask_title"},[e._v("添加关键字授权")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.modify,expression:"modify"}],staticClass:"mask_title"},[e._v("修改关键字授权")]),e._v(" "),a("div",{staticClass:"mask_anniu"},[a("span",{staticClass:"mask_span mask_max",on:{click:e.toggle}},[a("i",{class:{"icon-maximization":e.isok1,"icon-restore":e.isok2}})]),e._v(" "),a("span",{staticClass:"mask_span",on:{click:e.close}},[a("i",{staticClass:"icon-close1"})])])]),e._v(" "),a("div",{staticClass:"mask_content"},[a("el-form",{ref:"dataInfo",staticClass:"demo-user",attrs:{model:e.dataInfo,rules:e.rules,"label-width":"100px"}},[a("div",{staticClass:"accordion"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"关键字授权信息",name:"1"}},[a("el-row",{staticClass:"pb10",attrs:{gutter:20}},[a("el-col",{staticClass:"pull-right",attrs:{span:5}})],1),e._v(" "),e._l(e.basicInfo,function(t){return a("el-form-item",{style:{width:t.width,display:t.displayType},attrs:{label:t.label,prop:t.prop}},["input"==t.type?a("el-input",{attrs:{type:t.type,disabled:""},model:{value:e.dataInfo[t.prop],callback:function(a){e.$set(e.dataInfo,t.prop,a)},expression:"dataInfo[item.prop]"}}):e._e(),e._v(" "),"姓名"==t.label?a("el-input",{attrs:{disabled:!0},model:{value:e.dataInfo[t.prop],callback:function(a){e.$set(e.dataInfo,t.prop,a)},expression:"dataInfo[item.prop]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.addUser},slot:"append"})],1):e._e()],1)})],2),e._v(" "),a("el-collapse-item",{staticClass:"ml30",attrs:{title:"关键字授权列表",name:"2"}},[a("div",{staticClass:"table-func"},[a("el-button",{attrs:{type:"success",size:"mini",round:""},on:{click:e.addKeyW}},[a("i",{staticClass:"icon-add"}),e._v(" "),a("font",[e._v("新建行")])],1)],1),e._v(" "),a("div",{staticStyle:{position:"absolute","z-index":"99",right:"260px",top:"60px"}},[a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:e.selKeyW.length>0,expression:"selKeyW.length>0"}],on:{change:e.handleAuth},model:{value:e.checkAuth,callback:function(t){e.checkAuth=t},expression:"checkAuth"}},e._l(e.authOptions,function(e){return a("el-checkbox",{key:e,attrs:{label:e}})}))],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.selKeyW,border:"",stripe:"",fit:!0,"highlight-current-row":"highlight-current-row"}},[a("el-table-column",{attrs:{label:"类别名称",sortable:"",prop:"categoryidDesc"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.categoryidDesc))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关键字",sortable:"",prop:"keywordidDesc"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.keywordidDesc))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"授权",width:"600px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox-group",{model:{value:t.row.checkedList,callback:function(a){e.$set(t.row,"checkedList",a)},expression:"scope.row.checkedList"}},[a("el-checkbox",{attrs:{label:"显示"}}),e._v(" "),a("el-checkbox",{attrs:{label:"编辑"}}),e._v(" "),a("el-checkbox",{attrs:{label:"删除"}}),e._v(" "),a("el-checkbox",{attrs:{label:"打印"}}),e._v(" "),a("el-checkbox",{attrs:{label:"下载"}}),e._v(" "),a("el-checkbox",{attrs:{label:"复制"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",width:"150px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.del(t.row,t.$index)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"el-dialog__footer"},[a("el-button",{on:{click:e.close}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")])],1)])],1)]),e._v(" "),a("vchoose",{ref:"choose",attrs:{chooseParam:e.chooseParam},on:{tranFormData:e.getChoose}})],1):e._e()])},staticRenderFns:[]};var l=function(e){a("fJZc")},o=a("VU/8")(s.a,i,!1,l,"data-v-481180a8",null);t.a=o.exports},WL0s:function(e,t){},c58p:function(e,t,a){"use strict";(function(e){var s=a("QmSG"),i=a("KDSJ");t.a={name:"masks",components:{vchoose:i.a},props:["detailData"],data:function(){return{authOptions:["显示","编辑","删除","打印","下载","复制"],checkAuth:[],selBefore:[],chooseParam:{visible:!1,title:"用户列表",listName:"user",selMax:1,tableHeader:[{propName:"username",labelName:"用户姓名"},{propName:"deptName",labelName:"组织机构"}],search:[{name:"deptId",val:""}],url:"/api-user/users"},rules:{userid:[{required:!0,message:"请选择用户",trigger:"blur"}],authority:[{required:!0,message:"请选择授权类型",trigger:"blur"}]},basicInfo:[{label:"姓名",prop:"username",width:"50%",type:"select",displayType:"inline-block"},{label:"机构名称",prop:"deptName",width:"30%",type:"input",displayType:"inline-block"}],authorities:[{label:"显示",val:"fileread"},{label:"编辑",val:"fileedit"},{label:"删除",val:"filedelete"},{label:"打印",val:"fileprint"},{label:"下载",val:"filedownload"},{label:"复制",val:"fileduplicate"}],basic_url:s.a.dev_url,show:!1,isok1:!0,isok2:!1,down:!0,up:!1,activeNames:["1","2","3","4"],dialogVisible:!1,modify:!1,resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"simplename"},selectData:[],getCheckboxData:{},dataInfo:{id:"",authority:[],keywordid:"",userid:"",deptName:"",username:""},pmRecordList:[],usernames:[],selKeyW:[],deptid:""}},methods:{handleAuth:function(e){var t,a=this,s=!1,i=this.selKeyW,l=[];this.selBefore.length>e.length?(s=!1,l=this.selBefore.filter(function(t){if(-1==e.indexOf(t))return t})):(s=!0,l=e.filter(function(e){if(-1==a.selBefore.indexOf(e))return e})),t=l[0];for(var o=0;o<i.length;o++)-1==i[o].checkedList.indexOf(t)&&s&&i[o].checkedList.push(t),i[o].checkedList.indexOf(t)&&!s&&i[o].checkedList.splice(i[o].checkedList.indexOf(t),1);this.selBefore=e},del:function(e,t){var a=this;if(e.id){var s=this.basic_url+"/api-apps/app/tbKeywordPrivilege2/deletes",i={ids:e.id};this.$axios.delete(s,{params:i}).then(function(e){0==e.data.resp_code?(a.$message({message:"删除成功",type:"success"}),a.selKeyW.splice(t,1)):a.$message({message:e.data.code_msg,type:"success"})}).catch(function(e){a.$message({message:"网络错误，请重试",type:"error"})})}else this.selKeyW.splice(t,1)},getChoose:function(e){var t=e.data,a=e.listName;this.detail("getChoose",t,a)},addKeyW:function(){this.chooseParam={title:"关键字列表",listName:"keywordList",selMax:1e3,tableHeader:[{propName:"categoryidDesc",labelName:"类别"},{propName:"keywordname",labelName:"关键字"}],search:[],url:"/api-apps/app/tbKeyword2"},this.$refs.choose.getData("new",this.chooseParam)},addUser:function(){this.chooseParam={title:"用户列表",listName:"user",selMax:1,tableHeader:[{propName:"username",labelName:"用户姓名"},{propName:"deptName",labelName:"组织机构"}],search:[{name:"deptId",val:""}],url:"/api-user/users"},this.chooseParam.search[0].val=this.deptid,this.$refs.choose.getData("new",this.chooseParam)},getUser:function(){var e=this;this.$axios.get(this.basic_url+"/api-user/users/currentMap",{}).then(function(t){e.deptid=t.data.deptId,e.dataInfo.deptName=t.data.deptName}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})},visible:function(){this.modify=!1,this.show=!0},detail:function(e,t,a){var s=this;if("getChoose"!=e||"keywordList"!=a){if("getChoose"==e&&"user"==a){var i=t[0];this.dataInfo.userid=i.id,this.dataInfo.username=i.username}else{var l=this.detailData;this.dataInfo.userid=l.userid,this.dataInfo.username=l.username}this.getUser();var o={page:1,limit:10,userid:this.dataInfo.userid},r=this.basic_url+"/api-apps/app/tbKeywordPrivilege2";this.$axios.get(r,{params:o}).then(function(e){for(var t=e.data.data,a=s.authorities,i=0;i<t.length;i++){t[i].checkedList=[];for(var l=0;l<a.length;l++){var o=a[l].val;1==t[i][o]&&t[i].checkedList.push(a[l].label)}}s.selKeyW=t,s.modify=!0,s.show=!0}).catch(function(e){})}else for(var n=t,c=this.authorities,d=0;d<n.length;d++){n[d].checkedList=[],n[d].keywordidDesc=n[d].keywordname,n[d].keywordid=n[d].id,n[d].id="";for(var u=0;u<c.length;u++){var h=c[u].val;"fileread"==h&&(n[d][h],n[d].checkedList.push(c[u].label))}this.selKeyW.push(n[d])}},close:function(){this.resetForm(),this.$emit("request")},resetForm:function(){this.dataInfo={id:"",authority:[],keywordid:"",userid:""},this.selKeyW=[],this.show=!1},toggle:function(e){this.isok1?this.maxDialog():this.rebackDialog()},maxDialog:function(t){this.isok1=!1,this.isok2=!0,e(".mask_div").width(document.body.clientWidth),e(".mask_div").height(document.body.clientHeight-60),e(".mask_div").css("top","60px")},rebackDialog:function(){this.isok1=!0,this.isok2=!1,e(".mask_div").css("width","80%"),e(".mask_div").css("height","80%"),e(".mask_div").css("top","100px")},submitForm:function(){var e=this,t=this.basic_url+"/api-apps/app/tbKeywordPrivilege2/batchSaveOrUpdate";this.$refs.dataInfo.validate(function(a){if(0==e.selKeyW.length)return e.resetForm(),void e.$emit("request");if(!a)return console.log("error submit!!"),!1;for(var s={datas:[]},i=e.selKeyW,l=0;l<i.length;l++){var o={id:i[l].id,userid:e.dataInfo.userid,username:e.dataInfo.username,keywordid:i[l].keywordid,keywordidDesc:i[l].keywordidDesc,categoryidDesc:i[l].categoryidDesc,categoryid:i[l].categoryid,fileread:0,fileedit:0,fileprint:0,fileupload:0,filedownload:0,fileduplicate:0,filedelete:0},r=i[l].checkedList,n=e.authorities;for(var c in r)for(var d=0;d<n.length;d++){if(n[d].label==r[c])o[n[d].val]=1}s.datas.push(o)}e.$axios.post(t,s).then(function(t){0==t.data.resp_code&&(e.$message({message:"保存成功",type:"success"}),e.resetForm(),e.$emit("request"))}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})})}},mounted:function(){this.getUser()}}}).call(t,a("7t+N"))},ee60:function(e,t,a){"use strict";(function(e){var s=a("QmSG"),i=a("GkRW"),l=a("hbvp"),o=a("h7vj"),r=a("VEhc"),n=a("T9D9"),c=a("jk2w");t.a={name:"samples",components:{vheader:i.a,navs_header:o.a,navs_left:l.a,tableControle:r.a,authmask:n.a,reportmask:c.a},data:function(){return{reportData:{},loading:!1,basic_url:s.a.dev_url,isShow:!1,ismin:!0,loadSign:!0,commentArr:{},checkedName:["姓名","关键字","查看","删除","下载","复制","编辑","打印"],tableHeader:[{label:"姓名",prop:"username"},{label:"关键字",prop:"keywordidDesc"},{label:"查看",prop:"fileread"},{label:"删除",prop:"filedelete"},{label:"下载",prop:"filedownload"},{label:"复制",prop:"fileduplicate"},{label:"编辑",prop:"fileedit"},{label:"打印",prop:"fileprint"}],companyId:"",deptId:"",selMenu:[],samplesList:[],fullHeight:document.documentElement.clientHeight-210+"px",search:!1,show:!1,down:!0,up:!1,searchList:{keywordidDesc:"",username:""},resourceData:[],resourceDialogisShow:!1,resourceCheckedKey:[],resourceProps:{children:"subDepts",label:"fullname"},treeData:[],page:{currentPage:1,pageSize:10,totalCount:0},samplesForm:{}}},methods:{renderContent:function(e,t){var a=t.node,s=t.data;t.store;return e("span",[e("i",{class:s.iconClass}),e("span",[a.label])])},nodeClick:function(e){"icon-file-text"!=e.iconClass&&("icon-file-normal"==e.iconClass?e.iconClass="icon-file-open":e.iconClass="icon-file-normal"),this.handleNodeClick()},expandClick:function(e){"icon-file-text"!=e.iconClass&&("icon-file-normal"==e.iconClass?e.iconClass="icon-file-open":e.iconClass="icon-file-normal"),e.isFolder=!e.isFolder},loadMore:function(){var e=this;if(this.loadSign){if(this.loadSign=!1,this.page.currentPage++,this.page.currentPage>Math.ceil(this.page.totalCount/this.page.pageSize))return;setTimeout(function(){e.loadSign=!0},1e3),this.requestData()}},tableControle:function(e){this.checkedName=e},sizeChange:function(e){this.page.pageSize=e,this.requestData()},currentChange:function(e){this.page.currentPage=e,this.requestData()},resetbtn:function(){this.searchList={username:""},this.requestData()},searchinfo:function(e){this.page.currentPage=1,this.page.pageSize=10,this.requestData()},openAddMgr:function(){this.$refs.child.visible()},modify:function(){0!=this.selMenu.length?this.selMenu.length>1?this.$message({message:"不可同时修改多条数据",type:"warning"}):this.$refs.child.detail():this.$message({message:"请您选择要修改的数据",type:"warning"})},modestsearch:function(){this.search=!this.search,this.down=!this.down,this.up=!this.up},reportdata:function(){this.reportData.app=this.productType,this.$refs.reportChild.visible()},deluserinfo:function(){var e=this,t=this.selMenu;if(0!=t.length){for(var a=this.basic_url+"/api-apps/app/tbKeywordPrivilege2/deletes",s=t,i=[],l=0;l<s.length;l++)i.push(s[l].id);var o={ids:i.toString(",")};this.$confirm("确定删除这些数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value;e.$axios.delete(a,{params:o}).then(function(t){0==t.data.resp_code?(e.$message({message:"删除成功",type:"success"}),e.requestData()):e.$message({message:t.data.code_msg,type:"success"})}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}).catch(function(){})}else this.$message({message:"请您选择要删除的数据",type:"warning"})},physicsDel:function(){var e=this,t=this.selMenu;if(0!=t.length){for(var a=this.basic_url+"/api-apps/app/tbKeywordPrivilege2/deletes/physicsDel",s=t,i=[],l=0;l<s.length;l++)i.push(s[l].id);var o={ids:i.toString(",")};this.$confirm("确定删除这些数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value;e.$axios.delete(a,{params:o}).then(function(t){0==t.data.resp_code?(e.$message({message:"删除成功",type:"success"}),e.requestData()):e.$message({message:t.data.code_msg,type:"success"})}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}).catch(function(){})}else this.$message({message:"请您选择要删除的数据",type:"warning"})},SelChange:function(e){this.selMenu=e},requestData:function(e){var t=this;this.loading=!0;var a={page:this.page.currentPage,limit:this.page.pageSize,username:this.searchList.username,keywordidDesc:this.searchList.keywordidDesc},s=this.basic_url+"/api-apps/app/tbKeywordPrivilege2";this.$axios.get(s,{params:a}).then(function(e){t.page.totalCount=e.data.count,t.samplesList=e.data.data,t.loading=!1}).catch(function(e){})},formatter:function(e,t){return e.enabled},getKey:function(){var e=this,t=this.basic_url+"/api-user/depts/tree";this.$axios.get(t,{}).then(function(t){e.resourceData=t.data,e.treeData=e.transformTree(e.resourceData)})},transformTree:function(t){for(var a=0;a<t.length;a++)t[a].name=t[a].fullname,!t[a].pid||e.isArray(t[a].subDepts)?t[a].iconClass="icon-file-normal":t[a].iconClass="icon-file-text",e.isArray(t[a].subDepts)&&(t[a].children=this.transformTree(t[a].subDepts));return t},handleNodeClick:function(e){"1"==e.type?(this.companyId=e.id,this.deptId=""):(this.deptId=e.id,this.companyId=""),this.requestData()},min3max:function(){e(".lefttree").hasClass("el-col-5")?(e(".lefttree").removeClass("el-col-5"),e(".lefttree").addClass("el-col-1"),e(".leftcont").removeClass("el-col-19"),e(".leftcont").addClass("el-col-23"),e(".icon-doubleok").removeClass("icon-double-angle-left"),e(".icon-doubleok").addClass("icon-double-angle-right")):(e(".lefttree").removeClass("el-col-1"),e(".lefttree").addClass("el-col-5"),e(".leftcont").removeClass("el-col-23"),e(".leftcont").addClass("el-col-19"),e(".icon-doubleok").removeClass("icon-double-angle-right"),e(".icon-doubleok").addClass("icon-double-angle-left")),this.ismin=!this.ismin},childByValue:function(e){this.$refs.navsheader.showClick(e)}},mounted:function(){this.requestData(),this.getKey()}}}).call(t,a("7t+N"))},fJZc:function(e,t){}});
//# sourceMappingURL=30.9d89fcb3e2a8f590b3a1.js.map