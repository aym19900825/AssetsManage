webpackJsonp([52],{A6nV:function(t,e){},MiD0:function(t,e,a){"use strict";(function(t){var s=a("pFYg"),i=a.n(s),o=a("QmSG"),l=a("GkRW"),r=a("h7vj"),n=a("tcAE");a.n(n);e.a={name:"index",components:{vheader:l.a,navs_header:r.a},data:function(){return{roleid:1,basic_url:o.a.dev_url,show:!1,fullHeight:document.documentElement.clientHeight-100+"px",applistdata:[],todoList:[],searchList:{createTime:""},page:{currentPage:1,pageSize:10,totalCount:0}}},methods:{rowClass:function(t){t.row,t.rowIndex;return"text-align:center"},audit:function(t){this.$router.push({path:t.bizMenuUrl,query:{bizId:t.bizId}}),this.$store.dispatch("setMenuIdAct",t.bizFirstMenuId)},sizeChange:function(t){this.page.pageSize=t,this.requestData()},currentChange:function(t){this.page.currentPage=t,this.requestData()},requestData:function(){var t=this,e={page:this.page.currentPage,limit:this.page.pageSize},a=this.basic_url+"/api-apps/app/flow/flow/todo";this.$axios.get(a,{params:e}).then(function(e){console.log(e.data),t.page.totalCount=e.data.count;var a=Math.ceil(t.page.totalCount/t.page.pageSize);t.page.currentPage>=a?t.loadSign=!1:t.loadSign=!0,t.commentArr[t.page.currentPage]=e.data.data;for(var s=[],i=1;i<=a;i++)if(void 0!==t.commentArr[i]&&t.commentArr[i].length>0)for(var o=0;o<t.commentArr[i].length;o++)s.push(t.commentArr[i][o]);t.todoList=s}).catch(function(t){})},loadMore:function(){var t=this;if(this.loadSign){if(this.loadSign=!1,this.page.currentPage++,this.page.currentPage>Math.ceil(this.page.totalCount/this.page.pageSize))return;setTimeout(function(){t.loadSign=!0},1e3),this.requestData()}},goto:function(e){var a=this,s={menuId:e.id,roleId:a.$store.state.roleid};this.$store.dispatch("setMenuIdAct",e.id);var o=a.basic_url+"/api-user/menus/findSecondByRoleIdAndFisrtMenu";a.$axios.get(o,{params:s}).then(function(s){"undefined"!=s.data&&s.data.length>0&&(e=s.data[0]),a.$store.dispatch("setSelectedNavAct",e);for(var o="1",l=0;l<a.$store.state.clickedNavs.length;l++)if(1==a.$store.state.clickedNavs.length)o="0";else if(void 0!=i()(a.$store.state.clickedNavs[l].id)&&0!=l){if(a.$store.state.clickedNavs[l].id==e.id){o="1";break}o="0"}"0"==o&&(a.$store.state.clickedNavs.push(e),setTimeout(function(){t(".page-tabs").offset().left;var e=t(".page-tabs-content").width(),a=t(".content-tabs").width()-240;if(e>a){var s=e-a;t(".page-tabs").offset({left:-s})}},0))}).catch(function(t){}),a.$store.dispatch("setNavIdAct",e.id)},initEchart:function(){this.$echarts.init(document.getElementById("main"),"macarons").setOption({xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",areaStyle:{}}]})},getroId:function(t){this.getFirstMenus(t)},getFirstMenus:function(t){var e=this,a=(t=this.$store.state.roleid,this.basic_url+"/api-user/menus/findFirstByRoleId/"+t);this.$axios.get(a,{}).then(function(t){e.applistdata=t.data}).catch(function(t){e.$message({message:"网络错误，请重试",type:"error"})})}},mounted:function(){var t=this;if(this.requestData(),this.initEchart(),this.$refs.navsheader.showClick({css:"icon-user",name:"首页",url:"/index"}),null==this.$store.state.roleid||void 0==i()(this.$store.state.roleid)){var e=this.basic_url+"/api-user/roles/default";this.$axios.get(e,{}).then(function(e){var a=e.data.id;t.$store.dispatch("setRoleIdAct",e.data.id),t.getFirstMenus(a)}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})}else{var a=this.$store.state.roleid;e=this.basic_url+"/api-user/menus/findFirstByRoleId/"+a;this.$axios.get(e,{}).then(function(e){t.applistdata=e.data}).catch(function(e){t.$message({message:"网络错误，请重试",type:"error"})})}}}}).call(e,a("7t+N"))},dAjm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("MiD0"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerbg"},[a("vheader",{on:{clickfun:t.getroId}}),t._v(" "),a("navs_header",{ref:"navsheader"})],1),t._v(" "),a("div",{staticClass:"contentbg"},[a("div",{staticClass:"wrapper-content"},[a("div",{style:{height:t.fullHeight},attrs:{id:"information"}},[a("div",{staticClass:"ibox-content pl20 pr20"},[t._m(0),t._v(" "),a("el-row",{staticClass:"applist",attrs:{gutter:20}},t._l(t.applistdata,function(e,s){return a("el-col",{key:s,attrs:{span:4}},[a("div",{staticClass:"applistbg",attrs:{"data-id":t.applistdata.id},on:{click:function(a){t.goto(e)}}},[a("router-link",{attrs:{to:e.url}},[a("span",[a("i",{class:e.css})]),t._v(" "),a("font",[t._v(t._s(e.name))])],1)],1)])})),t._v(" "),a("h3",{staticClass:"pt30"},[t._v("工作统计")]),t._v(" "),a("el-row",{staticClass:"applist",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"statisticsbg"},[a("div",{staticClass:"echart_title clearfix"},[a("div",{staticClass:"pull-left"},[a("h6",[a("el-badge",{staticClass:"item",attrs:{value:200,max:99}},[t._v("待办任务")])],1)]),t._v(" "),a("div",{staticClass:"pull-right font13 blue"},[a("router-link",{attrs:{to:{path:"/task"}}},[t._v("更多"),a("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)]),t._v(" "),a("div",{staticClass:"pt40",staticStyle:{width:"100%",height:"220px"},attrs:{id:"todoList"}},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.loadMore,expression:"loadMore"}],staticStyle:{width:"100%"},attrs:{data:t.todoList,"header-cell-style":t.rowClass,border:"",stripe:"",height:"140","default-sort":{prop:"todoList",order:"descending"}}},[a("el-table-column",{attrs:{label:"单据号",sortable:"",prop:"bizNum"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"blue",attrs:{title:"点击查看详情"},on:{click:function(a){t.audit(e.row)}}},[t._v(t._s(e.row.bizNum)+"\r\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"App",sortable:"",width:"140px",prop:"app"}}),t._v(" "),a("el-table-column",{attrs:{label:"当前环节",sortable:"",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"应用",sortable:"",prop:"appDesc"}}),t._v(" "),a("el-table-column",{attrs:{label:"任务状态",sortable:"",width:"100px",align:"center",prop:"state"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",sortable:"",width:"160px",prop:"createTime"}})],1),t._v(" "),a("el-pagination",{staticClass:"pull-right pt10",attrs:{background:"","current-page":t.page.currentPage,"page-sizes":[10,20,30,40],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"statisticsbg",staticStyle:{height:"250px"}},[a("div",{staticClass:"echart_title clearfix"},[a("div",{staticClass:"pull-left"},[a("h6",[t._v("工作完成情况")])]),t._v(" "),a("el-dropdown",{staticClass:"pull-right font13 blue"},[a("span",{staticClass:"el-dropdown-link"},[t._v("\r\n\t\t\t\t\t\t\t\t\t\t\t近一周"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"pull-right",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("昨天")]),t._v(" "),a("el-dropdown-item",[t._v("近一周")]),t._v(" "),a("el-dropdown-item",[t._v("近一月")]),t._v(" "),a("el-dropdown-item",[t._v("近一年")])],1)],1)],1),t._v(" "),a("div",{staticClass:"pt40 clearfix"},[a("div",{staticClass:"pull-left"},[a("p",{staticClass:"big_numb"},[t._v("283")]),t._v(" "),a("p",{staticClass:"small_font"},[t._v("工作总计")]),t._v(" "),a("p",{staticClass:"middle_font pt40"},[t._v("\r\n\t\t\t\t\t\t\t\t\t\t\t待办工作: 32"),a("br"),t._v("\r\n\t\t\t\t\t\t\t\t\t\t\t执行中: 100"),a("br"),t._v("\r\n\t\t\t\t\t\t\t\t\t\t\t已完成: 151\r\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"pull-right pt40",staticStyle:{width:"140px"}},[a("div",{staticClass:"pt40"},[a("div",{staticClass:"wracircle",attrs:{"data-anim":"base wracircle"}},[a("div",{staticClass:"circle",attrs:{"data-anim":"base left"}}),t._v(" "),a("div",{staticClass:"circle_font"},[a("p",{staticClass:"font20"},[t._v("46%")]),t._v(" "),a("p",[t._v("工作完成率")])])])])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"statisticsbg"},[a("div",{staticClass:"echart_title clearfix"},[a("div",{staticClass:"pull-left"},[a("h6",[t._v("设备故障提报量")])]),t._v(" "),a("el-dropdown",{staticClass:"pull-right font13 blue"},[a("span",{staticClass:"el-dropdown-link"},[t._v("\r\n\t\t\t\t\t\t\t\t\t\t\t近一年"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"pull-right",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("昨天")]),t._v(" "),a("el-dropdown-item",[t._v("近一周")]),t._v(" "),a("el-dropdown-item",[t._v("近一月")]),t._v(" "),a("el-dropdown-item",{},[t._v("近一年")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{width:"100%",height:"220px"},attrs:{id:"main"}})])])],1)],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clearfix"},[e("h3",{staticClass:"pull-left"},[this._v("我的应用")])])}]};var o=function(t){a("A6nV")},l=a("VU/8")(s.a,i,!1,o,"data-v-33528880",null);e.default=l.exports},tcAE:function(t,e,a){var s,i,o,l;l=function(t,e){var a;if(!e)return a="ECharts is not Loaded",void("undefined"!=typeof console&&console&&console.error&&console.error(a));var s=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],i={color:s,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:s[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:s},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",i)},i=[e,a("XLwt")],void 0===(o="function"==typeof(s=l)?s.apply(e,i):s)||(t.exports=o)}});
//# sourceMappingURL=52.2d3d235544ea2952b39c.js.map