{"version":3,"sources":["webpack:///src/components/job/job.vue","webpack:///./src/components/job/job.vue?3c15","webpack:///./src/components/job/job.vue"],"names":["__webpack_exports__","name","components","vheader","__WEBPACK_IMPORTED_MODULE_1__common_vheader_vue__","navs_header","__WEBPACK_IMPORTED_MODULE_3__common_nav_tabs_vue__","navs_left","__WEBPACK_IMPORTED_MODULE_2__common_left_navs_nav_left5_vue__","data","loading","basic_url","__WEBPACK_IMPORTED_MODULE_0__config_js__","dev_url","companyId","deptId","selDept","page","currentPage","pageSize","totalCount","total","deptList","selMenu","search","show","down","up","fullHeight","document","documentElement","clientHeight","searchDept","simplename","fullname","resourceData","resourceDialogisShow","resourceCheckedKey","resourceProps","children","label","treeData","selData","adddeptForm","methods","rowClass","_ref","row","rowIndex","reset","this","version","status","step","code","parent","org_range","type","inactive","address","zipcode","leader","telephone","fax","email","tips","pid","enterby","enterdate","changeby","changedate","changeCheckedName","value","checkedName","str","toString","i","columns","length","indexOf","text","isShow","childByValue","childValue","tableControle","sizeChange","val","requestData","currentChange","currentTree","aTable","searchinfo","index","_this","params","limit","url","$axios","get","then","res","catch","wrong","resetbtn","openAddMgr","$refs","child","visible","modify","$message","message","console","log","detail","modestsearch","deluserinfo","_this2","changeMenu","deleteid","push","id","ids","$confirm","confirmButtonText","cancelButtonText","_ref2","delete","resp_code","err","dateFormat","column","date","property","undefined","$moment","format","SelChange","_this3","result","subDepts","getKey","_this4","transformTree","$","isArray","iconClass","getTreeId","handleNodeClick","formatter","enabled","job_job","render","_h","$createElement","_c","_self","staticClass","_v","attrs","gutter","span","src","width","height","frameborder","scrolling","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","job"],"mappings":"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","file":"static/js/57.0f9886c858f7248d7b94.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"headerbg\">\r\n\t\t\t<vheader></vheader>\r\n\t\t\t<navs_header></navs_header>\r\n\t\t</div>\r\n\t\t<div class=\"contentbg\">\r\n\t\t\t<!--左侧菜单调用 Begin-->\r\n\t\t\t<navs_left></navs_left>\r\n\t\t\t<!--左侧菜单调用 End-->\r\n\r\n\t\t\t<!--右侧内容显示 Begin-->\r\n\t\t\t<div class=\"wrapper wrapper-content\">\r\n\t\t\t\t<el-row :gutter=\"10\">\r\n\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t<iframe src=\"http://192.168.1.169:8888/jobinfo\" id=\"flowIframe\" width=\"100%\" :height=\"fullHeight\"  frameborder=\"0\" scrolling=\"no\" >\r\n\t\t\t\t   \t\t</iframe>\r\n\t\t\t\t   \t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Config from '../../config.js'\r\n\timport vheader from '../common/vheader.vue'\r\n\timport navs_left from '../common/left_navs/nav_left5.vue'\r\n\timport navs_header from '../common/nav_tabs.vue'\r\n\texport default {\r\n\t\tname: 'dept_management',\r\n\t\tcomponents: {\r\n\t\t\t'vheader': vheader,\r\n\t\t\t'navs_header': navs_header,\r\n\t\t\t'navs_left': navs_left,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tbasic_url: Config.dev_url,\r\n\t\t\t\t\r\n\t\t\t\tcompanyId: '',\r\n\t\t\t\tdeptId: '',\r\n\t\t\t\tselDept: [],\r\n\t\t\t\tpage: {\r\n\t\t\t\t\tcurrentPage: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\ttotalCount: 0\r\n\t\t\t\t},\r\n\t\t\t\ttotal:0,\r\n\t\t\t\tdeptList: [],\r\n\t\t\t\tselMenu:[],\r\n\t\t\t\tsearch: false,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tdown: true,\r\n\t\t\t\tup: false,\r\n\t\t\t\tfullHeight: document.documentElement.clientHeight - 210+'px',//获取浏览器高度\r\n\t\t\t\tsearchDept: {//高级查询\r\n\t\t\t\t\tsimplename:'',\r\n\t\t\t\t\tfullname:''\r\n\t\t\t\t},\r\n\t\t\t\t//tree\r\n\t\t\t\tresourceData: [], //数组，我这里是通过接口获取数据，\r\n\t\t\t\tresourceDialogisShow: false,\r\n\t\t\t\tresourceCheckedKey: [], //通过接口获取的需要默认展示的数组 [1,3,15,18,...]\r\n\t\t\t\tresourceProps: {\r\n\t\t\t\t\tchildren: \"subDepts\",\r\n\t\t\t\t\tlabel: \"simplename\"\r\n\t\t\t\t},\r\n\t\t\t\ttreeData: [],\r\n\t\t\t\tselData: [],\r\n\t\t\t\tadddeptForm: {}//修改子组件时传递数据\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//表头居中\r\n\t\t\trowClass({ row, rowIndex}) {\r\n\t\t\t    // console.log(rowIndex) //表头行标号为0\r\n\t\t\t    return 'text-align:center'\r\n\t\t\t},\r\n\t\t\t//清空\r\n\t\t\treset(){\r\n\t\t\t\tthis.adddeptForm = {\r\n\t\t\t\t\t\t\"version\":'1',\r\n\t\t\t\t\t\t\"status\":'活动',\r\n\t\t\t\t\t\t\"step\":'',\r\n\t\t\t\t\t\t\"code\":'',\r\n\t\t\t\t\t\t\"fullname\":'',\r\n\t\t\t\t\t\t\"parent\":'',\r\n\t\t\t\t\t\t\"org_range\":'2',\r\n\t\t\t\t\t\t\"type\":'',\r\n\t\t\t\t\t\t\"inactive\":'否',\r\n\t\t\t\t\t\t\"address\":'',\r\n\t\t\t\t\t\t\"zipcode\":'',\r\n\t\t\t\t\t\t\"leader\":'',\r\n\t\t\t\t\t\t\"telephone\":'',\r\n\t\t\t\t\t\t\"fax\":'',\r\n\t\t\t\t\t\t\"email\":'',\r\n\t\t\t\t\t\t\"tips\":'',\r\n\t\t\t\t\t\t\"pid\":'',\r\n\t\t\t\t\t\t\"enterby\":'',\r\n\t\t\t\t\t\t\"enterdate\":'',\r\n\t\t\t\t\t\t\"changeby\":'',\r\n\t\t\t\t\t\t\"changedate\":''\r\n\t\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tchangeCheckedName(value){\r\n\t\t\t\tthis.checkedName=value\r\n\t\t\t\tlet str=value.toString()\r\n\t\t\t\tfor(let i=0;i<this.columns.length;i++){\r\n\t\t\t\t\tif(str.indexOf(this.columns[i].text) != -1){\r\n\t\t\t\t\t\tthis.columns[i].isShow=true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.columns[i].isShow=false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//表格传过来\r\n\t\t\tchildByValue: function (childValue) {\r\n\t\t        // childValue就是子组件传过来的\r\n\t\t        this.selMenu = childValue\r\n\t\t    },\r\n\t\t\ttableControle(data){//控制表格列显示隐藏\r\n\t\t\t  this.checkedName = data;\r\n\t\t\t},\r\n\t\t\tsizeChange(val) {//分页，总页数\r\n\t\t      this.page.pageSize = val;\r\n\t\t      this.requestData();\r\n\t\t    },\r\n\t\t    currentChange(val) {//分页，当前页\r\n\t\t      this.page.currentPage = val;\r\n\t\t      this.requestData();\r\n\t\t    },\r\n\t\t\tcurrentTree(val){\r\n\t\t\t},\r\n\t\t\t//分页功能\r\n\t\t\taTable(val){ \r\n\t\t\t\tthis.page = val; \r\n\t\t\t\tthis.requestData();\r\n\t\t\t}, \r\n\t\t\tsearchinfo(index) {//高级查询\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\t\tsimplename: this.searchDept.simplename,\r\n\t\t\t\t\t\tfullname: this.searchDept.fullname\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tvar url = this.basic_url + '/api-user/depts';\r\n\t\t\t\tthis.$axios.get(url, data).then((res) => {\r\n\t\t\t\t\tthis.deptList = res.data.data;\r\n\t\t\t\t}).catch((wrong) => {\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tresetbtn(){\r\n\t\t\t\tthis.searchDept = {//高级查询\r\n\t\t\t\t\tsimplename:'',\r\n\t\t\t\t\tfullname:''\r\n\t\t\t\t};\r\n\t\t\t\tthis.requestData();\r\n\t\t\t},\r\n\t\t\t//添加\r\n\t\t\topenAddMgr() {\r\n\t\t\t\tthis.reset();\r\n\t\t\t\tthis.$refs.child.visible();\r\n\t\t\t},\r\n\t\t\t//修改\r\n\t\t\tmodify() {\r\n\t\t\t\tvar selData = this.selMenu;\r\n\t\t\t\tif(selData.length == 0) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '请您选择要修改的机构',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if(selData.length > 1) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '不可同时修改多个机构',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.adddeptForm = this.selMenu[0]; \r\n\t\t\t\t\tconsole.log(this.adddeptForm);\r\n\t\t\t\t\tthis.$refs.child.detail();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//高级查询\r\n\t\t\tmodestsearch() {\r\n\t\t\t\tthis.search = !this.search;\r\n\t\t\t\tthis.down = !this.down,\r\n\t\t\t\tthis.up = !this.up\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tdeluserinfo() {\r\n\t\t\t\tvar selData = this.selMenu;\r\n\t\t\t\tif(selData.length == 0) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '请您选择要删除的机构',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar changeMenu = selData[0];\r\n\t\t\t\t\tif(changeMenu.children!=null && typeof(changeMenu.children)!='undefined' && changeMenu.children.length>0){\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '先删除子机构',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else {\r\n//\t\t\t\t\t\tvar id = changeMenu.id;\r\n//\t\t\t\t\t\tvar url = this.basic_url + '/api-user/depts/' + id;\r\n//\t\t\t\t\t\tthis.$axios.delete(url, {}).then((res) => {\r\n//\t\t\t\t\t\t\t//resp_code == 0是后台返回的请求成功的信息\r\n//\t\t\t\t\t\t\tif(res.data.resp_code == 0) {\r\n//\t\t\t\t\t\t\t\tthis.$message({\r\n//\t\t\t\t\t\t\t\t\tmessage: '删除成功',\r\n//\t\t\t\t\t\t\t\t\ttype: 'success'\r\n//\t\t\t\t\t\t\t\t});\r\n//\t\t\t\t\t\t\t\tthis.requestData();\r\n//\t\t\t\t\t\t\t}\r\n//\t\t\t\t\t\t}).catch((err) => {\r\n//\t\t\t\t\t\t\tthis.$message({\r\n//\t\t\t\t\t\t\t\tmessage: '网络错误，请重试',\r\n//\t\t\t\t\t\t\t\ttype: 'error'\r\n//\t\t\t\t\t\t\t});\r\n//\t\t\t\t\t\t});\r\n\t\t\t\t\tvar url = this.basic_url + '/api-user/depts/deletes';\r\n\t\t\t\t\t//changeMenu为勾选的数据\r\n//\t\t\t\t\tvar changeMenu = selData[0];\r\n\t\t\t\t\t//deleteid为id的数组\r\n\t\t\t\t\tvar deleteid = [];\r\n\t\t\t\t\tvar ids;\r\n\t\t\t\t\tconsole.log(selData);\r\n\t\t\t\t\tfor(var i = 0; i < selData.length; i++) {\r\n\t\t\t\t\t\tdeleteid.push(selData[i].id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//ids为deleteid数组用逗号拼接的字符串\r\n\t\t\t\t\tids = deleteid.toString(',');\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\tids: ids,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tthis.$confirm('确定删除此数据吗？', '提示', {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t}).then(({\r\n\t\t\t\t\t\tvalue\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tthis.$axios.delete(url, {\r\n\t\t\t\t\t\t\tparams: data\r\n\t\t\t\t\t\t}).then((res) => { //.delete 传数据方法\r\n\t\t\t\t\t\t\t//resp_code == 0是后台返回的请求成功的信息\r\n\t\t\t\t\t\t\tif(res.data.resp_code == 0) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.requestData();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '网络错误，请重试',\r\n\t\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(() => {\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//时间格式化  \r\n\t\t\tdateFormat(row, column) {\r\n\t\t\t\tvar date = row[column.property];\r\n\t\t\t\tif(date == undefined) {\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$moment(date).format(\"YYYY-MM-DD\");\r\n\t\t\t},\r\n\t\t\tSelChange(val) {\r\n\t\t\t\tthis.selDept = val;\r\n\t\t\t},\r\n\r\n\t\t\trequestData() {//高级查询字段\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tvar url = this.basic_url + '/api-user/depts/treeMap';\r\n\t\t\t\tthis.$axios.get(url, {}).then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tlet result=res.data\r\n\t\t\t\t\tfor(let i=0;i<result.length;i++){\r\n\t\t\t\t\t\tif(typeof(result[i].subDepts)!=\"undefined\"&&result[i].subDepts.length>0){\r\n\t\t\t\t\t\t\tlet subDepts=result[i].subDepts;\r\n\t\t\t\t\t\t\tresult[i].children=subDepts;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.deptList = result;\r\n\t\t\t\t\tthis.loading = false;\r\n//\t\t\t\t\tthis.page.totalCount = res.data.count;\r\n\t\t\t\t}).catch((wrong) => {})\r\n\t\t\t},\r\n\t\t\t//机构树\r\n\t\t\tgetKey() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar url = this.basic_url + '/api-user/depts/tree';\r\n\t\t\t\tthis.$axios.get(url, {}).then((res) => {\r\n\t\t\t\t\tthis.resourceData = res.data;\r\n\t\t\t\t\tthis.treeData = this.transformTree(this.resourceData);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttransformTree(data){//给树菜单添加图标\r\n\t\t\t\tfor(var i=0; i<data.length; i++){\r\n\t\t\t\t\tdata[i].name = data[i].fullname;\r\n\t\t\t\t\tif(!data[i].pid || $.isArray(data[i].subDepts)){\r\n\t\t\t\t\t\tdata[i].iconClass = 'icon-file-normal';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdata[i].iconClass = 'icon-file-text';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($.isArray(data[i].subDepts)){\r\n\t\t\t\t\t\tdata[i].children = this.transformTree(data[i].subDepts);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\t\t\tgetTreeId(data){\r\n\t\t\t\tif(data.type == '1'){\r\n\t\t\t\t\tthis.companyId = data.id;\r\n\t\t\t\t\tthis.deptId = '';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.deptId = data.id;\r\n\t\t\t\t\tthis.companyId = '';\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestData();\r\n\t\t\t},\r\n\t\t\thandleNodeClick(data) {\r\n\t\t\t},\r\n\t\t\tformatter(row, column) {\r\n\t\t\t\treturn row.enabled;\r\n\t\t\t}\r\n\t\t},\r\n//\t\tmounted() {\r\n//\t\t\tvar url=\"http://192.168.1.169:8888/jobinfo\";\r\n//\t\t\twidow.open(url);\r\n//\t\t},\r\n//\t\tcreated(){\r\n//\t\t   \tvar url=\"http://192.168.1.169:8888/jobinfo\";\r\n//\t\t   \twindow.open(url);\r\n// }\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/job/job.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"headerbg\"},[_c('vheader'),_vm._v(\" \"),_c('navs_header')],1),_vm._v(\" \"),_c('div',{staticClass:\"contentbg\"},[_c('navs_left'),_vm._v(\" \"),_c('div',{staticClass:\"wrapper wrapper-content\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":24}},[_c('iframe',{attrs:{\"src\":\"http://192.168.1.169:8888/jobinfo\",\"id\":\"flowIframe\",\"width\":\"100%\",\"height\":_vm.fullHeight,\"frameborder\":\"0\",\"scrolling\":\"no\"}})])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4fe8d94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/job/job.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4fe8d94\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./job.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./job.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./job.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4fe8d94\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./job.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a4fe8d94\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/job/job.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}